document.addEventListener("DOMContentLoaded",()=>{class e{constructor(e=100,t=(()=>{})){this.time=e,this.functions=t,this.timeOut=null}init(){clearTimeout(this.timeOut),this.timeOut=setTimeout(()=>{this.functions()},this.time)}}const t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),i=(document.documentElement.style,null!=navigator.userAgent.match(/iPhone/i)),s=null!=navigator.userAgent.match(/iPad/i),o=null!=navigator.userAgent.match(/iPod/i),n=window.matchMedia("(max-width: 992px)"),a=document.querySelector(".body"),l=document.querySelector(".header"),c=(l.querySelectorAll(".header__link"),l.querySelector(".burger")),r=l.querySelector(".header__nav"),d=new class{constructor(e,t){this.btn=e,this.list=t,this.opened=!1,this.isIphone=i||s||o,this.btnDisabled=!1}open(){this.disableBtn(),this.btn.classList.add("burger--active"),this.btn.setAttribute("aria-expanded",!0),this.list.classList.add("header__nav--active"),this.list.setAttribute("aria-hidden",!1),this.isIphone?setTimeout(()=>{f()},300):a.classList.add("lock")}close(){this.disableBtn(),this.isIphone?g():a.classList.remove("lock"),this.btn.classList.remove("burger--active"),this.btn.setAttribute("aria-expanded",!1),this.list.classList.remove("header__nav--active"),this.list.setAttribute("aria-hidden",!0)}toggle(){this.btn.classList.contains("burger--active")?this.close():this.open()}disableBtn(){this.btn.disabled=!0,this.list.addEventListener("transitionend",()=>{this.btn.disabled=!1})}}(c,r),u=document.querySelector(".classification-swiper"),h=new class{constructor(e,t,i){this.selector=e,this.selectorClassName=this.selector.className.trim(),this.breakpoint=i,this.swiperObj=t,this.initSlider=null}create(){window.innerWidth<=this.breakpoint&&"false"==this.selector.dataset.mobile&&(this.initSlider=new Swiper(this.selector,this.swiperObj),this.selector.dataset.mobile="true")}destroy(){window.innerWidth>this.breakpoint&&(this.selector.dataset.mobile="false",this.selector.classList.contains(this.selectorClassName+"initialized")&&this.initSlider.destroy())}init(){this.create(),this.destroy()}}(u,{containerModifierClass:"classification-swiper",wrapperClass:"classification-swiper__wrapper",slideClass:"classification-swiper__slide",slidesPerView:1,grabCursor:!0,pagination:{el:".classification-swiper__pagination",clickable:!0},watchSlidesVisibility:!0},767),m=new e(100,()=>{h.init(),console.log("ResizeDebounce")}),p=new e(100,()=>{!function(){let e=window.pageYOffset;if(!l.classList.contains("header--active")&&e>window.innerHeight)l.classList.add("header--active"),c.classList.add("burger--scroll"),"animate"in l&&l.animate([{top:"-100px"},{top:"0"}],{duration:200,easing:"ease-out"});else if(l.classList.contains("header--active")&&window.innerHeight>e&&!c.classList.contains("burger--active")&&"animate"in l){l.animate([{top:"0"},{top:"-100px"}],{duration:200,easing:"ease-out"}).addEventListener("finish",()=>{l.classList.remove("header--active"),c.classList.remove("burger--scroll")})}}(),console.log("ScrollDebounce")});let f=()=>{let e=window.scrollY;document.querySelector("html").style.scrollBehavior="auto",document.body.classList.add("ios-lock"),document.body.dataset.position=e,document.body.style.top=-e+"px"},g=()=>{let e=parseInt(document.body.dataset.position,10);document.body.style.top="auto",document.body.classList.remove("ios-lock"),window.scroll({top:e,left:0}),document.querySelector("html").removeAttribute("style"),document.body.removeAttribute("data-position")};const b=document.querySelectorAll(".animate-item");if(t)b.forEach(e=>{e.classList.add("animated")});else{const e=(e,t,i,s=0)=>{let o=e.getBoundingClientRect();e.dataset.delay&&(s=e.dataset.delay),o.top+o.height-o.height*i>0&&window.innerHeight-o.top-o.height*t>0?(e.classList.add("animated"),e.style.transitionDelay=s+"s"):e.hasAttribute("data-animation-once")||e.classList.remove("animated")};0!=b.length&&(b.forEach(t=>{e(t,.5,.5)}),document.addEventListener("scroll",()=>{b.forEach(t=>{e(t,.5,.5)})}))}const y=document.querySelectorAll(".modal-btn"),w=document.querySelectorAll(".fixed-padding"),v=document.querySelectorAll(".close-modal");let L,S,E,k=!0,q=!1;if("function"!=typeof f&&"function"!=typeof g&&console.log(`Тип данных переменных "disableScroll" и "enableScroll": "${typeof f} и ${typeof g}"! Для IOS НЕ будет выполнятся скрипт scrollLockIOS`),y.length>0)for(let e=0;e<y.length;e++){const t=y[e];t.addEventListener("click",(function(e){const i=t.dataset.path,s=document.getElementById(i);null!=s?(A(s),setTimeout(()=>{v.forEach(e=>{e.focus()})},100),e.preventDefault()):console.log("Модальное окно не существует! "+s)}))}if(v.length>0)for(let e=0;e<v.length;e++){const t=v[e];L=t,t.addEventListener("click",(function(e){_(t.closest(".modal")),e.preventDefault()}))}function A(e){if(e&&k){E=document.activeElement;const t=document.querySelector(".modal.open");t?_(t,!1):function(){const e=window.innerWidth-a.offsetWidth+"px";if(w.length>0)for(let t=0;t<w.length;t++){w[t].style.paddingRight=e}a.style.paddingRight=e,a.classList.contains("lock")?S=!1:(S=!0,i||s||o?f():a.classList.add("lock"));k=!1,setTimeout((function(){k=!0}),800)}(),e.classList.add("open"),e.addEventListener("mousedown",(function(e){!1===q?(e.target.closest(".modal__content")||_(e.target.closest(".modal")),q=!0):setTimeout(()=>{q=!1},800)}))}}function _(e,t=!0){k&&(e.classList.remove("open"),t&&setTimeout((function(){if(w.length>0)for(let e=0;e<w.length;e++)w[e].style.paddingRight="0px";a.style.paddingRight="0px",1==S&&(i||s||o?g():a.classList.remove("lock"))}),800)),setTimeout((function(){E.focus()}),800)}document.addEventListener("keydown",(function(e){if(document.querySelector(".modal.open")&&27===e.which){_(document.querySelector(".modal.open"))}})),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),l.addEventListener("click",e=>{switch(e.target){case e.target.closest(".burger"):d.toggle();break;case e.target.closest(".header__link"):e.preventDefault(),n.matches&&d.close(),setTimeout(()=>{!function(e){if(s||i||o){let t=.4,i=window.pageYOffset,s=document.querySelector(e).getBoundingClientRect().top,o=null;return void requestAnimationFrame((function n(a){null===o&&(o=a);let l=a-o,c=s<0?Math.max(i-l/t,i+s):Math.min(i+l/t,i+s);window.scrollTo(0,c),c!=i+s?requestAnimationFrame(n):location.hash=e}))}let t=document.querySelector(e);if(null!==t){let e=t.offsetTop+1;window.scrollTo({top:e,behavior:"smooth"})}}(e.target.hash)},200)}}),h.init(),window.addEventListener("resize",()=>{m.init()}),window.addEventListener("scroll",(function(){p.init()}))});
//# sourceMappingURL=main.js.map
