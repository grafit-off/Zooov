{"version":3,"sources":["main.js"],"names":["document","addEventListener","Debounce","[object Object]","time","functions","this","timeOut","clearTimeout","setTimeout","isMobileDevice","test","navigator","userAgent","isiPhone","documentElement","style","match","isiPad","isiPod","media","window","matchMedia","body","querySelector","header","burgerBtn","querySelectorAll","burgerList","burger","btn","list","opened","isIphone","btnDisabled","disableBtn","classList","add","setAttribute","disableScroll","enableScroll","remove","contains","close","open","disabled","swiperSelector","classificationSwiper","selector","swiperObj","breakpoint","selectorClassName","className","trim","initSlider","innerWidth","dataset","mobile","Swiper","destroy","create","containerModifierClass","wrapperClass","slideClass","slidesPerView","grabCursor","pagination","el","clickable","watchSlidesVisibility","resizeDebounce","init","console","log","scrollDebounce","pos","pageYOffset","innerHeight","animate","top","duration","easing","fixHeader","pagePosition","scrollY","scrollBehavior","position","parseInt","scroll","left","removeAttribute","animItems","forEach","elementInViewport","element","offsetTop","offsetBottom","delay","bounds","getBoundingClientRect","height","transitionDelay","hasAttribute","length","modalButtons","lockPadding","modalCloseButtons","currentCloseBtn","bodyWasNotLock","previousActiveElement","unlock","isMultipleClick","index","modalCurrentButton","e","modalName","path","curentModal","getElementById","modalOpen","focus","preventDefault","modalClose","closest","activeElement","modalActive","lockPaddingValue","offsetWidth","paddingRight","bodyLock","target","doUnlock","which","Element","prototype","css","node","matches","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","toggle","id","V","w","t","start","requestAnimationFrame","step","progress","r","Math","max","min","scrollTo","location","hash","behavior","scrollToTarget"],"mappings":"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","file":"main.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n\t// Includes\n\t//? // Debounce\r\nclass Debounce {\r\n\tconstructor(time = 100, functions = () => { }) {\r\n\t\tthis.time = time;\r\n\t\tthis.functions = functions;\r\n\t\tthis.timeOut = null;\r\n\t}\r\n\r\n\tinit() {\r\n\t\tclearTimeout(this.timeOut);\r\n\t\tthis.timeOut = setTimeout(() => {\r\n\t\t\tthis.functions();\r\n\t\t}, this.time);\r\n\t}\r\n}\r\n;\n\t//? // Burger\r\n\r\n/* Бургер-меню\r\n\t1. Добавить модификаторы для бургера и меню.\r\n\t2. Изменить aria-expended.\r\n\t3. Запретить скролл.\r\n\t4. Выключать кнопку открытия меню до завершения анимации.\r\n*/\r\n\r\nclass Burger {\r\n\tconstructor(btn, list) {\r\n\t\tthis.btn = btn;\r\n\t\tthis.list = list;\r\n\t\tthis.opened = false;\r\n\t\tthis.isIphone = isiPhone || isiPad || isiPod;\r\n\t\tthis.btnDisabled = false;\r\n\t}\r\n\r\n\topen() {\r\n\t\tthis.disableBtn();\r\n\t\tthis.btn.classList.add('burger--active');\r\n\t\tthis.btn.setAttribute('aria-expanded', true);\r\n\t\tthis.list.classList.add('header__nav--active');\r\n\t\tthis.list.setAttribute('aria-hidden', false);\r\n\t\tif (this.isIphone) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tdisableScroll();\r\n\t\t\t}, 300);\r\n\t\t} else {\r\n\t\t\tbody.classList.add('lock')\r\n\t\t}\r\n\t}\r\n\r\n\tclose() {\r\n\t\tthis.disableBtn();\r\n\t\tif (this.isIphone) {\r\n\t\t\tenableScroll();\r\n\t\t} else {\r\n\t\t\tbody.classList.remove('lock')\r\n\t\t}\r\n\t\tthis.btn.classList.remove('burger--active');\r\n\t\tthis.btn.setAttribute('aria-expanded', false);\r\n\t\tthis.list.classList.remove('header__nav--active');\r\n\t\tthis.list.setAttribute('aria-hidden', true);\r\n\t}\r\n\r\n\ttoggle() {\r\n\t\tif (this.btn.classList.contains('burger--active')) {\r\n\t\t\tthis.close();\r\n\t\t} else {\r\n\t\t\tthis.open();\r\n\t\t}\r\n\t}\r\n\r\n\tdisableBtn() {\r\n\t\tthis.btn.disabled = true;\r\n\t\tthis.list.addEventListener('transitionend', () => {\r\n\t\t\tthis.btn.disabled = false;\r\n\t\t})\r\n\t}\r\n};\n\t//? // Swiper\r\nclass MobileSwiper {\r\n\tconstructor(selector, swiperObj, breakpoint) {\r\n\t\tthis.selector = selector;\r\n\t\tthis.selectorClassName = this.selector.className.trim();\r\n\t\tthis.breakpoint = breakpoint;\r\n\t\tthis.swiperObj = swiperObj;\r\n\t\tthis.initSlider = null;\r\n\t}\r\n\tcreate() {\r\n\t\tif (window.innerWidth <= this.breakpoint && this.selector.dataset.mobile == 'false') {\r\n\t\t\tthis.initSlider = new Swiper(this.selector, this.swiperObj);\r\n\t\t\tthis.selector.dataset.mobile = 'true';\r\n\t\t}\r\n\t}\r\n\tdestroy() {\r\n\t\tif (window.innerWidth > this.breakpoint) {\r\n\t\t\tthis.selector.dataset.mobile = 'false';\r\n\t\t\tif (this.selector.classList.contains(`${this.selectorClassName}initialized`)) {\r\n\t\t\t\tthis.initSlider.destroy();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tinit() {\r\n\t\tthis.create();\r\n\t\tthis.destroy();\r\n\t}\r\n}\r\n;\n\t// // Variables\r\nconst isMobileDevice = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\nconst isSmoothScrollSupported = 'scrollBehavior' in document.documentElement.style;\r\nconst isiPhone = (navigator.userAgent.match(/iPhone/i) != null);\r\nconst isiPad = (navigator.userAgent.match(/iPad/i) != null);\r\nconst isiPod = (navigator.userAgent.match(/iPod/i) != null);\r\nconst media = window.matchMedia(\"(max-width: 992px)\");\r\n\r\nconst body = document.querySelector('.body');\r\nconst header = document.querySelector('.header');\r\nconst headerLinks = header.querySelectorAll('.header__link');\r\nconst burgerBtn = header.querySelector('.burger');\r\nconst burgerList = header.querySelector('.header__nav');\r\nconst burger = new Burger(burgerBtn, burgerList);\r\n\r\nconst swiperSelector = document.querySelector('.classification-swiper');\r\nconst swiperObj = {\r\n\tcontainerModifierClass: \"classification-swiper\",\r\n\twrapperClass: \"classification-swiper__wrapper\",\r\n\tslideClass: \"classification-swiper__slide\",\r\n\tslidesPerView: 1,\r\n\tgrabCursor: true,\r\n\tpagination: {\r\n\t\tel: \".classification-swiper__pagination\",\r\n\t\tclickable: true\r\n\t},\r\n\twatchSlidesVisibility: true\r\n};\r\nconst classificationSwiper = new MobileSwiper(swiperSelector, swiperObj, 767);\r\n\r\nconst resizeFunc = () => {\r\n\tclassificationSwiper.init();\r\n\tconsole.log('ResizeDebounce');\r\n}\r\nconst resizeDebounce = new Debounce(100, resizeFunc);\r\n\r\nconst scrollFunc = () => {\r\n\tfixHeader();\r\n\tconsole.log('ScrollDebounce');\r\n}\r\nconst scrollDebounce = new Debounce(100, scrollFunc);\r\n;\n\t// // Fixed Header\r\nfunction fixHeader() {\r\n\tlet pos = window.pageYOffset;\r\n\tif (!header.classList.contains('header--active') && pos > window.innerHeight) {\r\n\t\theader.classList.add('header--active');\r\n\t\tburgerBtn.classList.add('burger--scroll');\r\n\t\tif ('animate' in header) {\r\n\t\t\theader.animate([\r\n\t\t\t\t{ top: '-100px' },\r\n\t\t\t\t{ top: '0' }\r\n\t\t\t], {\r\n\t\t\t\tduration: 200,\r\n\t\t\t\teasing: 'ease-out'\r\n\t\t\t});\r\n\t\t}\r\n\t} else if (header.classList.contains('header--active') && window.innerHeight > pos && !burgerBtn.classList.contains('burger--active')) {\r\n\t\tif ('animate' in header) {\r\n\t\t\tlet anim = header.animate([\r\n\t\t\t\t{ top: '0' },\r\n\t\t\t\t{ top: '-100px' }\r\n\t\t\t], {\r\n\t\t\t\tduration: 200,\r\n\t\t\t\teasing: 'ease-out'\r\n\t\t\t});\r\n\r\n\t\t\tanim.addEventListener('finish', () => {\r\n\t\t\t\theader.classList.remove('header--active');\r\n\t\t\t\tburgerBtn.classList.remove('burger--scroll');\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Scroll To Target\r\nfunction scrollToTarget(id) {\r\n\tif (isiPad || isiPhone || isiPod) {\r\n\t\tlet V = 0.4;  // скорость, может иметь дробное значение через точку (чем меньше значение - тем больше скорость)\r\n\t\tlet w = window.pageYOffset;\r\n\t\tlet t = document.querySelector(id).getBoundingClientRect().top; // отступ от окна браузера до id\r\n\t\tlet start = null;\r\n\t\trequestAnimationFrame(step);\r\n\t\tfunction step(time) {\r\n\t\t\tif (start === null) start = time;\r\n\t\t\tlet progress = time - start,\r\n\t\t\t\tr = (t < 0 ? Math.max(w - progress / V, w + t) : Math.min(w + progress / V, w + t));\r\n\t\t\twindow.scrollTo(0, r);\r\n\t\t\tif (r != w + t) {\r\n\t\t\t\trequestAnimationFrame(step)\r\n\t\t\t} else {\r\n\t\t\t\tlocation.hash = id;  // URL с хэшем\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\tlet target = document.querySelector(id);\r\n\tif (target !== null) {\r\n\t\tlet pos = target.offsetTop + 1;\r\n\t\twindow.scrollTo({\r\n\t\t\ttop: pos,\r\n\t\t\tbehavior: 'smooth'\r\n\t\t});\r\n\t}\r\n};\n\t// // scrollLockIOS\r\n\r\n// Выключение скролла\r\nlet disableScroll = () => {\r\n\tlet pagePosition = window.scrollY;\r\n\tdocument.querySelector('html').style.scrollBehavior = 'auto';\r\n\tdocument.body.classList.add('ios-lock');\r\n\tdocument.body.dataset.position = pagePosition;\r\n\tdocument.body.style.top = -pagePosition + 'px';\r\n}\r\n\r\n// Включение скролла\r\nlet enableScroll = () => {\r\n\tlet pagePosition = parseInt(document.body.dataset.position, 10);\r\n\tdocument.body.style.top = 'auto';\r\n\tdocument.body.classList.remove('ios-lock');\r\n\twindow.scroll({ top: pagePosition, left: 0 });\r\n\tdocument.querySelector('html').removeAttribute('style');\r\n\tdocument.body.removeAttribute('data-position');\r\n};\n\t// // Animate On Scroll\r\n// class=\"animate-item\" data-animation='from-left'  data-delay=\"0.5\" data-animation-once\r\nconst animItems = document.querySelectorAll(\".animate-item\");\r\nif (!isMobileDevice) {\r\n\tconst elementInViewport = (element, offsetTop, offsetBottom, delay = 0) => {\r\n\t\tlet bounds = element.getBoundingClientRect();\r\n\t\tif (element.dataset.delay) delay = element.dataset.delay;\r\n\r\n\t\tif ((bounds.top + bounds.height - bounds.height * offsetBottom > 0) && (window.innerHeight - bounds.top - bounds.height * offsetTop > 0)) {\r\n\t\t\telement.classList.add(\"animated\");\r\n\t\t\telement.style.transitionDelay = `${delay}s`;\r\n\t\t} else if (!element.hasAttribute(\"data-animation-once\")) {\r\n\t\t\telement.classList.remove(\"animated\");\r\n\t\t}\r\n\t};\r\n\tif (animItems.length != 0) {\r\n\t\tanimItems.forEach(el => {\r\n\t\t\telementInViewport(el, .5, .5);\r\n\t\t})\r\n\t\tdocument.addEventListener('scroll', () => {\r\n\t\t\tanimItems.forEach(el => {\r\n\t\t\t\telementInViewport(el, .5, .5);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n} else {\r\n\tanimItems.forEach((el) => {\r\n\t\tel.classList.add('animated')\r\n\t});\r\n}\r\n// -- //\r\n;\n\t// // MODAL\r\n\r\n// vars\r\nconst modalButtons = document.querySelectorAll('.modal-btn');\r\nconst lockPadding = document.querySelectorAll('.fixed-padding');\r\nconst modalCloseButtons = document.querySelectorAll('.close-modal');\r\nconst timeout = 800;\r\nlet currentCloseBtn;\r\nlet unlock = true;\r\nlet isMultipleClick = false;\r\nlet bodyWasNotLock;\r\n\r\n// Проверки\r\nif (typeof (disableScroll) !== 'function' && typeof (enableScroll) !== 'function') {\r\n\tconsole.log(`Тип данных переменных \"disableScroll\" и \"enableScroll\": \"${typeof (disableScroll)} и ${typeof (enableScroll)}\"! Для IOS НЕ будет выполнятся скрипт scrollLockIOS`);\r\n}\r\n// -- //\r\nif (modalButtons.length > 0) {\r\n\tfor (let index = 0; index < modalButtons.length; index++) {\r\n\t\tconst modalCurrentButton = modalButtons[index];\r\n\t\tmodalCurrentButton.addEventListener(\"click\", function (e) {\r\n\t\t\tconst modalName = modalCurrentButton.dataset.path;\r\n\t\t\tconst curentModal = document.getElementById(modalName);\r\n\t\t\tif (curentModal != null) {\r\n\t\t\t\tmodalOpen(curentModal);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tmodalCloseButtons.forEach((el) => {\r\n\t\t\t\t\t\tel.focus()\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 100)\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(`Модальное окно не существует! ${curentModal}`);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nif (modalCloseButtons.length > 0) {\r\n\tfor (let index = 0; index < modalCloseButtons.length; index++) {\r\n\t\tconst el = modalCloseButtons[index];\r\n\t\tcurrentCloseBtn = el;\r\n\t\tel.addEventListener('click', function (e) {\r\n\t\t\tmodalClose(el.closest('.modal'));\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\nlet previousActiveElement;\r\nfunction modalOpen(curentModal) {\r\n\tif (curentModal && unlock) {\r\n\t\tpreviousActiveElement = document.activeElement;\r\n\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\tif (modalActive) {\r\n\t\t\tmodalClose(modalActive, false);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbodyLock();\r\n\t\t}\r\n\t\tcurentModal.classList.add('open');\r\n\r\n\t\tcurentModal.addEventListener(\"mousedown\", function (e) {\r\n\t\t\tif (isMultipleClick === false) {\r\n\t\t\t\tif (!e.target.closest('.modal__content')) {\r\n\t\t\t\t\tmodalClose(e.target.closest('.modal'));\r\n\t\t\t\t}\r\n\t\t\t\tisMultipleClick = true;\r\n\t\t\t} else {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tisMultipleClick = false;\r\n\t\t\t\t}, timeout);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\nfunction modalClose(modalActive, doUnlock = true) {\r\n\tif (unlock) {\r\n\t\tmodalActive.classList.remove('open');\r\n\t\tif (doUnlock) {\r\n\t\t\tbodyUnlock();\r\n\t\t}\r\n\t}\r\n\tsetTimeout(function () {\r\n\t\tpreviousActiveElement.focus();\r\n\t}, timeout);\r\n\r\n}\r\n\r\nfunction bodyLock() {\r\n\tconst lockPaddingValue = window.innerWidth - body.offsetWidth + 'px';\r\n\tif (lockPadding.length > 0) {\r\n\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\tconst el = lockPadding[index];\r\n\t\t\tel.style.paddingRight = lockPaddingValue;\r\n\t\t}\r\n\t}\r\n\tbody.style.paddingRight = lockPaddingValue;\r\n\tif (!body.classList.contains('lock')) {\r\n\t\tbodyWasNotLock = true;\r\n\t\tif (isiPhone || isiPad || isiPod) {\r\n\t\t\tdisableScroll();\r\n\t\t} else {\r\n\t\t\tbody.classList.add('lock');\r\n\t\t}\r\n\t} else {\r\n\t\tbodyWasNotLock = false;\r\n\t}\r\n\tunlock = false;\r\n\tsetTimeout(function () {\r\n\t\tunlock = true;\r\n\t}, timeout);\r\n}\r\n\r\nfunction bodyUnlock() {\r\n\tsetTimeout(function () {\r\n\t\tif (lockPadding.length > 0) {\r\n\t\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\t\tconst el = lockPadding[index];\r\n\t\t\t\tel.style.paddingRight = '0px';\r\n\t\t\t}\r\n\t\t}\r\n\t\tbody.style.paddingRight = '0px';\r\n\t\tif (bodyWasNotLock == true) {\r\n\t\t\tif (isiPhone || isiPad || isiPod) {\r\n\t\t\t\tenableScroll();\r\n\t\t\t} else {\r\n\t\t\t\tbody.classList.remove('lock');\r\n\t\t\t}\r\n\t\t}\r\n\t}, timeout);\r\n}\r\n\r\ndocument.addEventListener('keydown', function (e) {\r\n\tif (document.querySelector('.modal.open')) {\r\n\t\tif (e.which === 27) {\r\n\t\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\t\tmodalClose(modalActive);\r\n\t\t}\r\n\t}\r\n});\r\n(function () {\r\n\tif (!Element.prototype.closest) {\r\n\t\tElement.prototype.closest = function (css) {\r\n\t\t\tvar node = this;\r\n\t\t\twhile (node) {\r\n\t\t\t\tif (node.matches(css)) return node;\r\n\t\t\t\telse node = node.parentElement;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t}\r\n})();\r\n(function () {\r\n\tif (!Element.prototype.matches) {\r\n\t\tElement.prototype.matches = Element.prototype.matchesSelector ||\r\n\t\t\tElement.prototype.webkitMatchesSelector ||\r\n\t\t\tElement.prototype.mozMatchesSelector ||\r\n\t\t\tElement.prototype.msMatchesSelector;\r\n\t}\r\n})();;\n\t// -- //\n\n\theader.addEventListener('click', (e) => {\n\t\tswitch (e.target) {\n\t\t\tcase e.target.closest('.burger'):\n\t\t\t\tburger.toggle();\n\t\t\t\tbreak;\n\n\t\t\tcase e.target.closest('.header__link'):\n\t\t\t\te.preventDefault();\n\t\t\t\tif (media.matches) burger.close();\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tscrollToTarget(e.target.hash);\n\t\t\t\t}, 200);\n\t\t\t\tbreak;\n\t\t}\n\t})\n\n\tclassificationSwiper.init();\n\n\twindow.addEventListener('resize', () => {\n\t\tresizeDebounce.init();\n\t});\n\n\twindow.addEventListener('scroll', function () {\n\t\tscrollDebounce.init();\n\t});\n})\n\n"]}