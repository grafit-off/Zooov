{"version":3,"sources":["main.js"],"names":["document","addEventListener","Debounce","[object Object]","time","functions","this","timeOut","clearTimeout","setTimeout","MobileSwiper","selector","swiperObj","breakpoint","querySelector","selectorClassName","initSlider","window","innerWidth","dataset","mobile","Swiper","classList","contains","destroy","create","Accordion","params","accordion","trigger","body","animated","animSettings","duration","easing","toggle","add","setAttribute","bodyHeight","clientHeight","style","height","animate","opacity","remove","close","open","test","navigator","userAgent","documentElement","isiPhone","match","isiPad","isiPod","media","matchMedia","header","headerLinks","querySelectorAll","burgerBtn","burgerList","burger","btn","list","opened","isIphone","btnDisabled","disableBtn","disableScroll","enableScroll","disabled","heroLink","descrModal","orderModal","calcModal","responseModal","imageMain","dietSec","fields","stepper","input","btnPlus","btnMinus","count","value","e","change","allowNumbersOnly","calculate","func","code","which","keyCode","preventDefault","self","currentTarget","setWidth","width","length","operation","selectItem","priceEl","contactForm","orderForm","calcForm","snackbar","invalid","VALIDATION_PATTERNS","notNumber","notEmpty","phone","email","classificationSwiper","containerModifierClass","wrapperClass","slideClass","slidesPerView","grabCursor","pagination","el","clickable","a11y","paginationBulletMessage","watchSlidesVisibility","dietSwiper","spaceBetween","bulletElement","resizeDebounce","init","scrollDebounce","pos","pageYOffset","innerHeight","top","fixHeader","showActiveLink","scrollToTarget","id","target","bodyRect","getBoundingClientRect","offset","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","Math","easeInOutQuad","t","b","c","d","to","start","scrollTop","parentNode","currentTime","animateScroll","val","amount","scrollToIos","offsetTop","matches","scrollTo","behavior","i","hash","scrollY","toggleField","label","closest","trim","loadOrderModal","obj","name","textContent","type","image","src","imageAlt","toLowerCase","alt","calcPrice","price","parseInt","getCount","async","fetchJSON","url","data","response","fetch","method","JSON","stringify","headers","Content-Type","result","json","console","log","status","error","validate","validation","showSnackbar","text","delay","backgroundColor","transition","removeAttribute","focusIn","forEach","pagePosition","scrollBehavior","position","scroll","left","modalButtons","lockPadding","modalCloseButtons","currentCloseBtn","bodyWasNotLock","previousActiveElement","unlock","isMultipleClick","index","modalCurrentButton","modalName","path","curentModal","getElementById","modalOpen","focus","modalClose","activeElement","modalActive","lockPaddingValue","offsetWidth","paddingRight","bodyLock","doUnlock","Element","prototype","css","node","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","weight","images","modal","imagePreviewList","innerHTML","firstElementChild","loadDescrModal","AOS","selects","select","options","cSelect","createElement","cSelectList","cSelectCurrent","className","append","after","toggleClass","desctopFn","event","mobileFn","j","mobileSelect","nextElementSibling","detectmob","x","y","selectItems","createCustomDom","items","children","selectValue","getAttribute","selectText","volume","reset","animal","message","callBack"],"mappings":"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","file":"main.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n\t// Includes\r\n\t//? // Debounce\r\nclass Debounce {\r\n\tconstructor(time = 100, functions = () => { }) {\r\n\t\tthis.time = time;\r\n\t\tthis.functions = functions;\r\n\t\tthis.timeOut = null;\r\n\t}\r\n\r\n\tinit() {\r\n\t\tclearTimeout(this.timeOut);\r\n\t\tthis.timeOut = setTimeout(() => {\r\n\t\t\tthis.functions();\r\n\t\t}, this.time);\r\n\t}\r\n}\r\n;\r\n\t//? // Burger\r\n\r\n/* Бургер-меню\r\n\t1. Добавить модификаторы для бургера и меню.\r\n\t2. Изменить aria-expended.\r\n\t3. Запретить скролл.\r\n\t4. Выключать кнопку открытия меню до завершения анимации.\r\n*/\r\n\r\nclass Burger {\r\n\tconstructor(btn, list) {\r\n\t\tthis.btn = btn;\r\n\t\tthis.list = list;\r\n\t\tthis.opened = false;\r\n\t\tthis.isIphone = isiPhone || isiPad || isiPod;\r\n\t\tthis.btnDisabled = false;\r\n\t}\r\n\r\n\topen() {\r\n\t\tthis.disableBtn();\r\n\t\tthis.btn.classList.add('burger--active');\r\n\t\tthis.btn.setAttribute('aria-expanded', true);\r\n\t\tthis.list.classList.add('header__nav--active');\r\n\t\tthis.list.setAttribute('aria-hidden', false);\r\n\t\tif (this.isIphone) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tdisableScroll();\r\n\t\t\t}, 300);\r\n\t\t} else {\r\n\t\t\tbody.classList.add('lock')\r\n\t\t}\r\n\t}\r\n\r\n\tclose() {\r\n\t\tthis.disableBtn();\r\n\t\tif (this.isIphone) {\r\n\t\t\tenableScroll();\r\n\t\t} else {\r\n\t\t\tbody.classList.remove('lock')\r\n\t\t}\r\n\t\tthis.btn.classList.remove('burger--active');\r\n\t\tthis.btn.setAttribute('aria-expanded', false);\r\n\t\tthis.list.classList.remove('header__nav--active');\r\n\t\tthis.list.setAttribute('aria-hidden', true);\r\n\t}\r\n\r\n\ttoggle() {\r\n\t\tif (this.btn.classList.contains('burger--active')) {\r\n\t\t\tthis.close();\r\n\t\t} else {\r\n\t\t\tthis.open();\r\n\t\t}\r\n\t}\r\n\r\n\tdisableBtn() {\r\n\t\tthis.btn.disabled = true;\r\n\t\tthis.list.addEventListener('transitionend', () => {\r\n\t\t\tthis.btn.disabled = false;\r\n\t\t})\r\n\t}\r\n};\r\n\t//? // Swiper\r\nclass MobileSwiper {\r\n\tconstructor(selector, swiperObj, breakpoint) {\r\n\t\tthis.selector = document.querySelector(`.${selector}`);\r\n\t\tthis.selectorClassName = selector;\r\n\t\tthis.breakpoint = breakpoint;\r\n\t\tthis.swiperObj = swiperObj;\r\n\t\tthis.initSlider = null;\r\n\t}\r\n\tcreate() {\r\n\t\tif (window.innerWidth <= this.breakpoint && this.selector.dataset.mobile == 'false') {\r\n\t\t\tthis.initSlider = new Swiper(this.selector, this.swiperObj);\r\n\t\t\tthis.selector.dataset.mobile = 'true';\r\n\t\t}\r\n\t}\r\n\tdestroy() {\r\n\t\tif (window.innerWidth > this.breakpoint) {\r\n\t\t\tthis.selector.dataset.mobile = 'false';\r\n\t\t\tif (this.selector.classList.contains(`${this.selectorClassName}initialized`)) {\r\n\t\t\t\tthis.initSlider.destroy();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tinit() {\r\n\t\tthis.selector.dataset.mobile = 'false';\r\n\t\tthis.create();\r\n\t\tthis.destroy();\r\n\t}\r\n}\r\n;\r\n\t//? // Accordion\r\nclass Accordion {\r\n\tconstructor(params) {\r\n\t\tthis.accordion = params.selector;\r\n\t\tthis.trigger = this.accordion.querySelector('.accordion__trigger');\r\n\t\tthis.body = this.accordion.querySelector('.accordion__body');\r\n\t\tthis.animated = false;\r\n\r\n\t\tif (params.animSettings) {\r\n\t\t\tthis.animSettings = params.animSettings;\r\n\t\t} else {\r\n\t\t\tthis.animSettings = { duration: 500, easing: 'ease' };\r\n\t\t}\r\n\r\n\t\tthis.trigger.addEventListener('click', () => this.toggle());\r\n\t}\r\n\r\n\topen() {\r\n\t\tthis.trigger.classList.add('accordion__trigger--active');\r\n\t\tthis.body.classList.add('accordion__body--show');\r\n\t\tthis.trigger.setAttribute('aria-expanded', true);\r\n\t\tthis.body.setAttribute('aria-hidden', false);\r\n\r\n\t\tlet bodyHeight = this.body.clientHeight;\r\n\t\tthis.body.style.height = 0;\r\n\t\tthis.animated = true;\r\n\r\n\t\tlet anim = this.body.animate([\r\n\t\t\t{ opacity: '1', height: bodyHeight + 'px' }\r\n\t\t],\r\n\t\t\tthis.animSettings);\r\n\r\n\t\tanim.addEventListener('finish', () => {\r\n\t\t\tthis.body.style = null;\r\n\t\t\tthis.animated = false;\r\n\t\t});\r\n\t}\r\n\r\n\tclose() {\r\n\t\tthis.trigger.classList.remove('accordion__trigger--active');\r\n\t\tthis.trigger.setAttribute('aria-expanded', false);\r\n\t\tthis.body.setAttribute('aria-hidden', true);\r\n\r\n\t\tthis.body.style.height = this.body.clientHeight + 'px';\r\n\t\tthis.animated = true;\r\n\r\n\t\tlet anim = this.body.animate([\r\n\t\t\t{ opacity: '0', height: 0 }\r\n\t\t],\r\n\t\t\tthis.animSettings);\r\n\r\n\t\tanim.addEventListener('finish', () => {\r\n\t\t\tthis.body.style = null;\r\n\t\t\tthis.body.classList.remove('accordion__body--show');\r\n\t\t\tthis.animated = false;\r\n\t\t});\r\n\t}\r\n\r\n\ttoggle() {\r\n\t\tif (!this.animated) {\r\n\t\t\tthis.body.classList.contains('accordion__body--show') ? this.close() : this.open();\r\n\t\t}\r\n\t}\r\n};\r\n\t//? // Stepper\r\nclass Stepper {\r\n\tconstructor(selector) {\r\n\t\tthis.stepper = document.querySelector(`${selector}`);\r\n\t\tthis.input = this.stepper.querySelector('.stepper__input');\r\n\t\tthis.btnPlus = this.stepper.querySelector('.stepper__btn--plus');\r\n\t\tthis.btnMinus = this.stepper.querySelector('.stepper__btn--minus');\r\n\t\tthis.count = this.input.value;\r\n\r\n\t\tthis.input.addEventListener(\"keyup\", (e) => {\r\n\t\t\tthis.change(e);\r\n\t\t});\r\n\t\tthis.input.addEventListener(\"keypress\", (e) => {\r\n\t\t\tthis.allowNumbersOnly(e);\r\n\t\t});\r\n\t\tthis.input.addEventListener(\"change\", (e) => {\r\n\t\t\tthis.change(e);\r\n\t\t});\r\n\t\tthis.btnPlus.addEventListener(\"click\", (e) => {\r\n\t\t\t// if true plus else minus\r\n\t\t\tthis.calculate(e, true);\r\n\t\t});\r\n\t\tthis.btnMinus.addEventListener(\"click\", (e) => {\r\n\t\t\t// if true plus else minus\r\n\t\t\tthis.calculate(e, false);\r\n\t\t});\r\n\t}\r\n\r\n\tgetCount() {\r\n\t\treturn this.count;\r\n\t}\r\n\r\n\tcallBack(func) {\r\n\t\tthis.input.addEventListener(\"keyup\", (e) => {\r\n\t\t\tfunc();\r\n\t\t});\r\n\t\tthis.input.addEventListener(\"keypress\", (e) => {\r\n\t\t\tfunc();\r\n\t\t});\r\n\t\tthis.input.addEventListener(\"change\", (e) => {\r\n\t\t\tfunc();\r\n\t\t});\r\n\t\tthis.btnPlus.addEventListener(\"click\", (e) => {\r\n\t\t\tfunc();\r\n\t\t});\r\n\t\tthis.btnMinus.addEventListener(\"click\", (e) => {\r\n\t\t\tfunc();\r\n\t\t});\r\n\t}\r\n\r\n\tallowNumbersOnly(e) {\r\n\t\tlet code = e.which ? e.which : e.keyCode;\r\n\t\tif (code > 31 && (code < 48 || code > 57)) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t}\r\n\r\n\tdisableBtn() {\r\n\t\tif (this.count == 1 || this.count == 1000) {\r\n\t\t\tthis.count = 1;\r\n\t\t\tthis.btnMinus.classList.add(\"stepper__btn--disabled\");\r\n\t\t\tthis.btnMinus.disabled = true;\r\n\t\t} else {\r\n\t\t\tthis.btnMinus.classList.remove(\"stepper__btn--disabled\");\r\n\t\t\tthis.btnMinus.disabled = false;\r\n\t\t}\r\n\t}\r\n\r\n\tchange(e) {\r\n\t\tlet self = e.currentTarget;\r\n\t\tif (self.value == 0) {\r\n\t\t\tself.value = 1;\r\n\t\t}\r\n\t\tthis.setWidth();\r\n\t\tthis.count = this.input.value;\r\n\t\tthis.disableBtn();\r\n\t}\r\n\r\n\tsetWidth() {\r\n\t\tif (!/iPhone|iPad|iPod/i.test(navigator.userAgent)) {\r\n\t\t\tthis.input.style.width = `${this.input.value.length + 1}ex`;\r\n\t\t} else {\r\n\t\t\tthis.input.style.width = `${this.input.value.length + 2}ex`;\r\n\t\t}\r\n\t}\r\n\r\n\tcalculate(e, operation) {\r\n\t\te.preventDefault();\r\n\t\t// if true plus else minus\r\n\t\toperation ? this.count++ : this.count--;\r\n\t\tthis.disableBtn();\r\n\t\tthis.input.value = this.count;\r\n\t\tthis.setWidth();\r\n\t}\r\n};\r\n\t//? // Variables\r\nconst isMobileDevice = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\nconst isSmoothScrollSupported = 'scrollBehavior' in document.documentElement.style;\r\nconst isiPhone = (navigator.userAgent.match(/iPhone/i) != null);\r\nconst isiPad = (navigator.userAgent.match(/iPad/i) != null);\r\nconst isiPod = (navigator.userAgent.match(/iPod/i) != null);\r\nconst media = window.matchMedia(\"(max-width: 992px)\");\r\n\r\nconst body = document.querySelector('.body');\r\nconst header = document.querySelector('.header');\r\nconst headerLinks = header.querySelectorAll('.header__link');\r\nconst burgerBtn = header.querySelector('.burger');\r\nconst burgerList = header.querySelector('.header__nav');\r\nconst burger = new Burger(burgerBtn, burgerList);\r\nconst heroLink = document.querySelector('.hero__link');\r\nconst descrModal = document.querySelector('.descr-modal');\r\nconst orderModal = document.querySelector('.order-modal');\r\nconst calcModal = document.querySelector('#modal-calc');\r\nconst responseModal = document.querySelector('.response-modal');\r\nconst imageMain = descrModal.querySelector('.image-preview__main-img');\r\nconst dietSec = document.querySelector('.diet');\r\nconst fields = document.querySelectorAll('.field__input');\r\nconst stepper = new Stepper('.stepper');\r\nconst selectItem = document.querySelector('.select__item');\r\nconst priceEl = document.querySelector('.order-form__price');\r\nconst contactForm = document.querySelector('.contact-form');\r\nconst orderForm = document.querySelector('.order-form');\r\nconst calcForm = document.querySelector('.calc-form');\r\nconst snackbar = document.querySelector(\".snackbar\");\r\n\r\n\r\nlet invalid;\r\nconst VALIDATION_PATTERNS = {\r\n\tnotNumber: /\\D/,\r\n\tnotEmpty: /^(?!\\s*$).+/,\r\n\tphone: /^\\d{7,14}$/,\r\n\temail: /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\r\n}\r\n\r\nconst classificationSwiperObj = {\r\n\tcontainerModifierClass: \"classification-swiper\",\r\n\twrapperClass: \"classification-swiper__wrapper\",\r\n\tslideClass: \"classification-swiper__slide\",\r\n\tslidesPerView: 1,\r\n\tgrabCursor: true,\r\n\tpagination: {\r\n\t\tel: \".classification-swiper__pagination\",\r\n\t\tclickable: true\r\n\t},\r\n\ta11y: {\r\n\t\tpaginationBulletMessage: 'Перейти к слайду номер {{index}}'\r\n\t},\r\n\twatchSlidesVisibility: true\r\n};\r\nconst classificationSwiper = new MobileSwiper('classification-swiper', classificationSwiperObj, 767);\r\n\r\nconst dietSwiperObj = {\r\n\tcontainerModifierClass: \"diet-swiper\",\r\n\twrapperClass: \"diet-swiper__wrapper\",\r\n\tslideClass: \"diet-swiper__slide\",\r\n\tslidesPerView: 1.25,\r\n\tspaceBetween: 25,\r\n\tgrabCursor: true,\r\n\tpagination: {\r\n\t\tel: \".diet-swiper__pagination\",\r\n\t\tclickable: true,\r\n\t\tbulletElement: 'button'\r\n\t},\r\n\ta11y: {\r\n\t\tpaginationBulletMessage: 'Перейти к слайду номер {{index}}'\r\n\t},\r\n\twatchSlidesVisibility: true\r\n};\r\nconst dietSwiper = new MobileSwiper('diet-swiper', dietSwiperObj, 767);\r\n\r\nconst resizeFunc = () => {\r\n\tclassificationSwiper.init();\r\n\tdietSwiper.init();\r\n}\r\n\r\nconst resizeDebounce = new Debounce(300, resizeFunc);\r\n\r\nconst scrollFunc = () => {\r\n\tfixHeader();\r\n\tshowActiveLink();\r\n}\r\nconst scrollDebounce = new Debounce(100, scrollFunc);\r\n\r\nconst accordions = document.querySelectorAll('.accordion__item');\r\n\r\naccordions.forEach(el => new Accordion({\r\n\tselector: el\r\n}));;\r\n\t// // Fixed Header\r\nfunction fixHeader() {\r\n\tlet pos = window.pageYOffset;\r\n\tif (!header.classList.contains('header--active') && pos > window.innerHeight) {\r\n\t\theader.classList.add('header--active');\r\n\t\tburgerBtn.classList.add('burger--scroll');\r\n\t\tif ('animate' in header) {\r\n\t\t\theader.animate([\r\n\t\t\t\t{ top: '-100px' },\r\n\t\t\t\t{ top: '0' }\r\n\t\t\t], {\r\n\t\t\t\tduration: 200,\r\n\t\t\t\teasing: 'ease-out'\r\n\t\t\t});\r\n\t\t}\r\n\t} else if (header.classList.contains('header--active') && window.innerHeight > pos && !burgerBtn.classList.contains('burger--active')) {\r\n\t\tif ('animate' in header) {\r\n\t\t\tlet anim = header.animate([\r\n\t\t\t\t{ top: '0' },\r\n\t\t\t\t{ top: '-100px' }\r\n\t\t\t], {\r\n\t\t\t\tduration: 200,\r\n\t\t\t\teasing: 'ease-out'\r\n\t\t\t});\r\n\r\n\t\t\tanim.addEventListener('finish', () => {\r\n\t\t\t\theader.classList.remove('header--active');\r\n\t\t\t\tburgerBtn.classList.remove('burger--scroll');\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Scroll To Target\r\nfunction scrollToTarget(id) {\r\n\tconst target = document.querySelector(id);\r\n\tif (isiPad || isiPhone || isiPod && target !== null) {\r\n\t\tconst bodyRect = document.body.getBoundingClientRect();\r\n\t\tconst elemRect = target.getBoundingClientRect();\r\n\t\tconst offset = elemRect.top - bodyRect.top;\r\n\r\n\t\tconst requestAnimFrame = (function () {\r\n\t\t\treturn window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) {\r\n\t\t\t\twindow.setTimeout(callback, 1000 / 60);\r\n\t\t\t};\r\n\t\t})();\r\n\t\tMath.easeInOutQuad = function (t, b, c, d) {\r\n\t\t\tt /= d / 2;\r\n\t\t\tif (t < 1) {\r\n\t\t\t\treturn c / 2 * t * t + b\r\n\t\t\t}\r\n\t\t\tt--;\r\n\t\t\treturn -c / 2 * (t * (t - 2) - 1) + b;\r\n\t\t};\r\n\t\tfunction scrollToIos(to, callback, duration) {\r\n\t\t\tfunction move(amount) {\r\n\t\t\t\tdocument.documentElement.scrollTop = amount;\r\n\t\t\t\tdocument.body.parentNode.scrollTop = amount;\r\n\t\t\t\tdocument.body.scrollTop = amount;\r\n\t\t\t}\r\n\r\n\t\t\tfunction position() {\r\n\t\t\t\treturn document.documentElement.scrollTop || document.body.parentNode.scrollTop || document.body.scrollTop;\r\n\t\t\t}\r\n\t\t\tlet start = position(),\r\n\t\t\t\tchange = to - start,\r\n\t\t\t\tcurrentTime = 0,\r\n\t\t\t\tincrement = 20;\r\n\t\t\tduration = (typeof (duration) === 'undefined') ? 500 : duration;\r\n\r\n\t\t\tlet animateScroll = function () {\r\n\t\t\t\tcurrentTime += increment;\r\n\t\t\t\tlet val = Math.easeInOutQuad(currentTime, start, change, duration);\r\n\t\t\t\tmove(val);\r\n\t\t\t\tif (currentTime < duration) {\r\n\t\t\t\t\trequestAnimFrame(animateScroll);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (callback && typeof (callback) === 'function') {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tanimateScroll();\r\n\t\t}\r\n\t\tscrollToIos(offset - 15, null, 500);\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (target !== null) {\r\n\t\tlet pos = target.offsetTop - (media.matches ? 20 : -1);\r\n\t\twindow.scrollTo({\r\n\t\t\ttop: pos,\r\n\t\t\tbehavior: 'smooth'\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction showActiveLink() {\r\n\tfor (let i = headerLinks.length - 1; i >= 0; i--) {\r\n\t\tlet target = document.querySelector(headerLinks[i].hash);\r\n\t\tif (window.scrollY > target.offsetTop - 40) {\r\n\t\t\tif (document.querySelector('.header__link--active')) {\r\n\t\t\t\tdocument.querySelector('.header__link--active').classList.remove('header__link--active');\r\n\t\t\t}\r\n\t\t\theaderLinks[i].classList.add('header__link--active');\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction toggleImage(selector) {\r\n\tif (document.querySelector('.image-preview__button--active')) {\r\n\t\tdocument.querySelector('.image-preview__button--active').classList.remove('image-preview__button--active');\r\n\t}\r\n\tselector.classList.add('image-preview__button--active');\r\n\timageMain.src = selector.querySelector('.image-preview__img').src;\r\n}\r\n\r\nfunction loadDescrModal(selector) {\r\n\tlet obj = {\r\n\t\tname: `${selector.querySelector('.product__heading').textContent}`,\r\n\t\ttext: `${selector.querySelector('.product__text').textContent}`,\r\n\t\ttype: `${selector.querySelector('.product__type').textContent}`,\r\n\t\tweight: `${selector.querySelector('.product__weight').textContent}`,\r\n\t\timages: [`${selector.querySelector('.product__image').src}`, `img/image-preview2.jpg`, `img/image-preview3.jpg`, `img/image-preview4.jpg`]\r\n\t}\r\n\r\n\tlet modal = document.querySelector('#modal-descr');\r\n\tlet imagePreviewList = ``;\r\n\r\n\tobj.images.forEach((el, i) => {\r\n\t\timagePreviewList += `\r\n\t\t<li class=\"image-preview__item\">\r\n\t\t\t<button class=\"image-preview__button btn-reset\" aria-label=\"Показть изображение ${++i}\">\r\n\t\t\t\t<img src=\"${el}\" alt=\"\" class=\"image-preview__img\" aria-hidden=\"true\">\r\n\t\t\t</button>\r\n\t\t</li>\r\n\t\t`\r\n\t});\r\n\r\n\tmodal.querySelector('.image-preview__list').innerHTML = imagePreviewList;\r\n\tmodal.querySelector('.image-preview__list').firstElementChild.querySelector('.image-preview__button').classList.add('image-preview__button--active');\r\n\tmodal.querySelector('.image-preview__main-img').src = obj.images[0];\r\n\tmodal.querySelector('.descr-modal__title').textContent = obj.name;\r\n\tmodal.querySelector('.descr-modal__text').textContent = obj.text;\r\n\tmodal.querySelector('.descr-modal__type').textContent = obj.type;\r\n\tmodal.querySelector('.descr-modal__weight').textContent = obj.weight;\r\n}\r\n\r\n\r\nfunction toggleField(input) {\r\n\tconst label = input.closest('.field').querySelector('.field__label');\r\n\tif (label.classList.contains('field__label--focused') && input.value.trim() === '') {\r\n\t\tlabel.classList.remove('field__label--focused')\r\n\t} else {\r\n\t\tlabel.classList.add('field__label--focused')\r\n\t}\r\n}\r\n\r\nfunction loadOrderModal(selector) {\r\n\tlet obj = {\r\n\t\tname: `${selector.querySelector('.product__heading').textContent}`,\r\n\t\ttype: `${selector.querySelector('.product__type').textContent}`,\r\n\t\timage: `${selector.querySelector('.product__image').src}`,\r\n\t\timageAlt: `${this.name.toLowerCase()}`\r\n\t}\r\n\tresponseModal.querySelector('.response-modal__img').src = obj.image;\r\n\torderModal.querySelector('.order-modal__img').src = obj.image;\r\n\torderModal.querySelector('.order-modal__img').alt = obj.imageAlt;\r\n\torderModal.querySelector('.order-form__title ').textContent = obj.name;\r\n\torderModal.querySelector('.order-form__type ').textContent = obj.type;\r\n}\r\n\r\n/* Custom Select */\r\nfunction select() {\r\n\t//Получаем все \"select\" по селектору\r\n\tconst selects = document.querySelectorAll('.select__item')\r\n\t//переборка по полученным \"select\"\r\n\tfor (let i = 0; i < selects.length; i++) {\r\n\t\tconst select = selects[i]\r\n\t\t//получаем все \"option\" внутри \"select\"\r\n\t\tconst options = select.querySelectorAll('option')\r\n\t\t//создаем кастомный \"select\"\r\n\t\tconst cSelect = document.createElement('div')\r\n\t\tconst cSelectList = document.createElement('div')\r\n\t\tconst cSelectCurrent = document.createElement('button');\r\n\t\tcSelectCurrent.setAttribute('tabindex', '0')\r\n\r\n\t\tselect.setAttribute('tabindex', '-1')\r\n\t\t//задем классы и атрибуты кастомному \"select\"\r\n\t\tcSelect.className = 'custom-select'\r\n\t\tcSelectList.className = 'custom-select__list'\r\n\t\tcSelectCurrent.className = 'custom-select__current  btn-reset'\r\n\t\t//по умолчанию у button будет type=\"submit\", поэтому меням на type=\"button\" чтобы избежать отправку формы при клие на кастомный \"select\"\r\n\t\tcSelectCurrent.setAttribute('type', 'button')\r\n\t\t//создаем вложенность созданных элементов\r\n\t\tcSelect.append(cSelectCurrent, cSelectList)\r\n\t\t//добавляем кастоный \"select\" сразу после оргинального \"select\"\r\n\t\tselect.after(cSelect)\r\n\t\t//получаем список и значения \"option\" из \"select\", затем создаём кастомный \"option\" для кастомного \"select\"\r\n\t\tconst createCustomDom = function (x, y) {\r\n\t\t\tlet selectItems = ''\r\n\t\t\tfor (var i = 0; i < options.length; i++) {\r\n\t\t\t\tselectItems += '<button type=\"button\" class=\"custom-select__item btn-reset\"  data-value=\"' + options[i].value + '\">' + options[i].text + '</button>'\r\n\t\t\t}\r\n\t\t\tcSelectList.innerHTML = selectItems\r\n\t\t\tx(), y();\r\n\t\t}\r\n\t\t//открываем-закрываем выпадающий список по клику\r\n\t\tconst toggleClass = () => {\r\n\t\t\tcSelectCurrent.classList.toggle('custom-select__current--show');\r\n\t\t\tcSelectList.classList.toggle('custom-select__list--show');\r\n\t\t}\r\n\t\t//присваиваем текстовое  значение  в кастомном \"select\"\r\n\t\tconst currentTextValue = () => cSelectCurrent.textContent = select.value;\r\n\t\t//получаем и задаем значения text/value \r\n\t\tconst currentValue = () => {\r\n\t\t\tconst items = cSelectList.children\r\n\t\t\tfor (var el = 0; el < items.length; el++) {\r\n\t\t\t\tlet selectValue = items[el].getAttribute('data-value')\r\n\t\t\t\tlet selectText = items[el].textContent\r\n\t\t\t\titems[el].addEventListener('click', () => {\r\n\t\t\t\t\tcSelectCurrent.classList.remove('custom-select__current--show');\r\n\t\t\t\t\tcSelectList.classList.remove('custom-select__list--show');\r\n\r\n\t\t\t\t\tcSelectCurrent.textContent = selectText;\r\n\t\t\t\t\tselect.value = selectValue;\r\n\t\t\t\t\tcalcPrice();\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst desctopFn = () => {\r\n\t\t\tcSelectCurrent.addEventListener('click', toggleClass);\r\n\t\t\tcSelectCurrent.addEventListener('keydown', (event) => {\r\n\t\t\t\tif (event.code == 'Enter' || event.code == 'Escape') {\r\n\t\t\t\t\ttoggleClass()\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tconst mobileFn = () => {\r\n\t\t\tfor (let j = 0; j < selects.length; j++) {\r\n\t\t\t\tlet mobileSelect = selects[j]\r\n\t\t\t\tmobileSelect.classList.add('select__item--mobile')\r\n\t\t\t\tmobileSelect.addEventListener('change', () => {\r\n\t\t\t\t\tmobileSelect.nextElementSibling.querySelector('.custom-select__current').textContent = mobileSelect.value\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\tcreateCustomDom(currentTextValue, currentValue)\r\n\t\t//закрываем выпадающий список по клику вне области кастомного селекта\r\n\t\tdocument.addEventListener('mouseup', (e) => {\r\n\t\t\tif (!cSelect.contains(e.target)) {\r\n\t\t\t\tcSelectCurrent.classList.remove('custom-select__current--show');\r\n\t\t\t\tcSelectList.classList.remove('custom-select__list--show');\r\n\t\t\t}\r\n\t\t})\r\n\t\tdetectmob(mobileFn, desctopFn)\r\n\t\tfunction detectmob(x, y) {\r\n\t\t\tif (navigator.userAgent.match(/Android/i)\r\n\t\t\t\t|| navigator.userAgent.match(/webOS/i)\r\n\t\t\t\t|| navigator.userAgent.match(/iPhone/i)\r\n\t\t\t\t|| navigator.userAgent.match(/iPad/i)\r\n\t\t\t\t|| navigator.userAgent.match(/iPod/i)\r\n\t\t\t\t|| navigator.userAgent.match(/BlackBerry/i)\r\n\t\t\t\t|| navigator.userAgent.match(/Windows Phone/i)\r\n\t\t\t) {\r\n\t\t\t\tx();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ty();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction calcPrice() {\r\n\tlet price = 0;\r\n\tconst volume = parseInt(selectItem.value);\r\n\tprice = (volume * 1.56) * stepper.getCount();\r\n\tpriceEl.textContent = `${price}₽`;\r\n}\r\n\r\nasync function fetchJSON(url, data) {\r\n\ttry {\r\n\t\tlet response = await fetch(url, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify(data),\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': \"application/json; charset=utf-8\"\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tlet result = await response.json();\r\n\t\tconsole.log(`Response Status: ${response.status}`);\r\n\t\tconsole.log(result);\r\n\t\treturn true;\r\n\t} catch (e) {\r\n\t\tconsole.error(e);\r\n\t\treturn false;\r\n\t}\r\n\r\n}\r\n\r\nfunction validate(input) {\r\n\tinput.value = input.value.trim();\r\n\tif (!VALIDATION_PATTERNS[input.dataset.validation].test(input.value.trim())) {\r\n\t\tinput.classList.add('input-invalid')\r\n\t\tinvalid = true;\r\n\t}\r\n}\r\n\r\n\r\nfunction showSnackbar(text = snackbar.textContent, delay = 0, backgroundColor = \"#333\", transition = 3000) {\r\n\tsetTimeout(() => {\r\n\t\tsnackbar.textContent = text;\r\n\t\tsnackbar.style.backgroundColor = backgroundColor;\r\n\t\tsnackbar.classList.add('snackbar--show');\r\n\t\tsnackbar.removeAttribute('hidden', '')\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tsnackbar.classList.remove('snackbar--show');\r\n\t\t\tsnackbar.setAttribute('hidden', '')\r\n\t\t}, transition);\r\n\t}, delay);\r\n}\r\n\r\nfunction focusIn(e) {\r\n\tif (e.target.closest('[data-validation]') && e.target.classList.contains('input-invalid')) {\r\n\t\te.target.classList.remove('input-invalid');\r\n\t}\r\n}\r\n\r\n// -- //;\r\n\t// // scrollLockIOS\r\n\r\n// Выключение скролла\r\nlet disableScroll = () => {\r\n\tlet pagePosition = window.scrollY;\r\n\tdocument.querySelector('html').style.scrollBehavior = 'auto';\r\n\tdocument.body.classList.add('ios-lock');\r\n\tdocument.body.dataset.position = pagePosition;\r\n\tdocument.body.style.top = -pagePosition + 'px';\r\n}\r\n\r\n// Включение скролла\r\nlet enableScroll = () => {\r\n\tlet pagePosition = parseInt(document.body.dataset.position, 10);\r\n\tdocument.body.style.top = 'auto';\r\n\tdocument.body.classList.remove('ios-lock');\r\n\twindow.scroll({ top: pagePosition, left: 0 });\r\n\tdocument.querySelector('html').removeAttribute('style');\r\n\tdocument.body.removeAttribute('data-position');\r\n};\r\n\t// // MODAL\r\n\r\n// vars\r\nconst modalButtons = document.querySelectorAll('.modal-btn');\r\nconst lockPadding = document.querySelectorAll('.fixed-padding');\r\nconst modalCloseButtons = document.querySelectorAll('.close-modal');\r\nconst timeout = 800;\r\nlet currentCloseBtn;\r\nlet unlock = true;\r\nlet isMultipleClick = false;\r\nlet bodyWasNotLock;\r\n\r\n// Проверки\r\nif (typeof (disableScroll) !== 'function' && typeof (enableScroll) !== 'function') {\r\n\tconsole.error(`Тип данных переменных \"disableScroll\" и \"enableScroll\": \"${typeof (disableScroll)} и ${typeof (enableScroll)}\"! Для IOS НЕ будет выполнятся скрипт scrollLockIOS`);\r\n}\r\n// -- //\r\nif (modalButtons.length > 0) {\r\n\tfor (let index = 0; index < modalButtons.length; index++) {\r\n\t\tconst modalCurrentButton = modalButtons[index];\r\n\t\tmodalCurrentButton.addEventListener(\"click\", function (e) {\r\n\t\t\tconst modalName = modalCurrentButton.dataset.path;\r\n\t\t\tconst curentModal = document.getElementById(modalName);\r\n\t\t\tif (curentModal != null) {\r\n\t\t\t\tmodalOpen(curentModal);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tmodalCloseButtons.forEach((el) => {\r\n\t\t\t\t\t\tel.focus()\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 100)\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\tconsole.error(`Модальное окно не существует!\\n modalName: ${modalName}, currentModal: ${curentModal}`);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nif (modalCloseButtons.length > 0) {\r\n\tfor (let index = 0; index < modalCloseButtons.length; index++) {\r\n\t\tconst el = modalCloseButtons[index];\r\n\t\tcurrentCloseBtn = el;\r\n\t\tel.addEventListener('click', function (e) {\r\n\t\t\tmodalClose(el.closest('.modal'));\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\nlet previousActiveElement;\r\nfunction modalOpen(curentModal) {\r\n\tif (curentModal && unlock) {\r\n\t\tpreviousActiveElement = document.activeElement;\r\n\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\tif (modalActive) {\r\n\t\t\tmodalClose(modalActive, false);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbodyLock();\r\n\t\t}\r\n\t\tcurentModal.classList.add('open');\r\n\r\n\t\tcurentModal.addEventListener(\"mousedown\", function (e) {\r\n\t\t\tif (isMultipleClick === false) {\r\n\t\t\t\tif (!e.target.closest('.modal__content')) {\r\n\t\t\t\t\tmodalClose(e.target.closest('.modal'));\r\n\t\t\t\t}\r\n\t\t\t\tisMultipleClick = true;\r\n\t\t\t} else {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tisMultipleClick = false;\r\n\t\t\t\t}, timeout);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\nfunction modalClose(modalActive, doUnlock = true) {\r\n\tif (unlock) {\r\n\t\tmodalActive.classList.remove('open');\r\n\t\tif (doUnlock) {\r\n\t\t\tbodyUnlock();\r\n\t\t}\r\n\t}\r\n\tsetTimeout(function () {\r\n\t\tpreviousActiveElement.focus();\r\n\t}, timeout);\r\n\r\n}\r\n\r\nfunction bodyLock() {\r\n\tconst lockPaddingValue = window.innerWidth - body.offsetWidth + 'px';\r\n\tif (lockPadding.length > 0) {\r\n\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\tconst el = lockPadding[index];\r\n\t\t\tel.style.paddingRight = lockPaddingValue;\r\n\t\t}\r\n\t}\r\n\tbody.style.paddingRight = lockPaddingValue;\r\n\tif (!body.classList.contains('lock')) {\r\n\t\tbodyWasNotLock = true;\r\n\r\n\t\tbody.classList.add('lock');\r\n\r\n\t} else {\r\n\t\tbodyWasNotLock = false;\r\n\t}\r\n\tunlock = false;\r\n\tsetTimeout(function () {\r\n\t\tunlock = true;\r\n\t}, timeout);\r\n}\r\n\r\nfunction bodyUnlock() {\r\n\tsetTimeout(function () {\r\n\t\tif (lockPadding.length > 0) {\r\n\t\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\t\tconst el = lockPadding[index];\r\n\t\t\t\tel.style.paddingRight = '0px';\r\n\t\t\t}\r\n\t\t}\r\n\t\tbody.style.paddingRight = '0px';\r\n\t\tif (bodyWasNotLock == true) {\r\n\t\t\tbody.classList.remove('lock');\r\n\t\t}\r\n\t}, timeout);\r\n}\r\n\r\ndocument.addEventListener('keydown', function (e) {\r\n\tif (document.querySelector('.modal.open')) {\r\n\t\tif (e.which === 27) {\r\n\t\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\t\tmodalClose(modalActive);\r\n\t\t}\r\n\t}\r\n});\r\n(function () {\r\n\tif (!Element.prototype.closest) {\r\n\t\tElement.prototype.closest = function (css) {\r\n\t\t\tvar node = this;\r\n\t\t\twhile (node) {\r\n\t\t\t\tif (node.matches(css)) return node;\r\n\t\t\t\telse node = node.parentElement;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t}\r\n})();\r\n(function () {\r\n\tif (!Element.prototype.matches) {\r\n\t\tElement.prototype.matches = Element.prototype.matchesSelector ||\r\n\t\t\tElement.prototype.webkitMatchesSelector ||\r\n\t\t\tElement.prototype.mozMatchesSelector ||\r\n\t\t\tElement.prototype.msMatchesSelector;\r\n\t}\r\n})();;\r\n\t// -- //\r\n\r\n\theader.addEventListener('click', (e) => {\r\n\t\tif (e.target.closest('.burger')) {\r\n\t\t\tburger.toggle();\r\n\t\t}\r\n\t\tif (e.target.closest('.header__link')) {\r\n\t\t\te.preventDefault();\r\n\t\t\tif (media.matches) burger.close();\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tscrollToTarget(e.target.hash);\r\n\t\t\t}, 200);\r\n\t\t}\r\n\t})\r\n\theroLink.addEventListener('click', () => {\r\n\t\tscrollToTarget(heroLink.hash);\r\n\t})\r\n\r\n\tdescrModal.addEventListener('click', (e) => {\r\n\t\tif (e.target.closest('.image-preview__button')) {\r\n\t\t\ttoggleImage(e.target.closest('.image-preview__button'))\r\n\t\t}\r\n\t})\r\n\r\n\tdietSec.addEventListener('click', (e) => {\r\n\t\tif (e.target.closest('.product__btn')) {\r\n\t\t\tloadDescrModal(e.target.closest('.product__info'));\r\n\t\t\tloadOrderModal(e.target.closest('.product__info'));\r\n\t\t}\r\n\t\tif (e.target.closest('.product__order')) {\r\n\t\t\tloadOrderModal(e.target.closest('.product__wrapper').querySelector('.product__info'));\r\n\t\t}\r\n\t})\r\n\r\n\tfields.forEach((el) => {\r\n\t\tel.addEventListener('focus', (e) => {\r\n\t\t\ttoggleField(e.currentTarget);\r\n\t\t})\r\n\t\tel.addEventListener('blur', (e) => {\r\n\t\t\ttoggleField(e.currentTarget);\r\n\t\t})\r\n\t});\r\n\tshowActiveLink();\r\n\tAOS.init();\r\n\tclassificationSwiper.init();\r\n\tdietSwiper.init();\r\n\tselect();\r\n\tcalcPrice();\r\n\r\n\torderForm.addEventListener('submit', async (e) => {\r\n\t\te.preventDefault();\r\n\t\tlet data = {};\r\n\t\tinvalid = false;\r\n\t\torderForm.querySelectorAll('[data-validation]').forEach((el) => {\r\n\t\t\tvalidate(el);\r\n\t\t});\r\n\t\tif (!invalid) {\r\n\t\t\torderForm.querySelectorAll('[data-validation]').forEach((el) => {\r\n\t\t\t\tdata[el.name] = el.value;\r\n\t\t\t});\r\n\t\t\tdata.price = priceEl.textContent;\r\n\t\t\tdata.volume = orderForm.querySelector('select[name=\"volume\"]').value;\r\n\r\n\t\t\tif (await fetchJSON(\"https://jsonplaceholder.typicode.com/posts\", data)) {\r\n\t\t\t\torderForm.reset();\r\n\t\t\t\tmodalOpen(document.querySelector('#modal-response'));\r\n\t\t\t} else {\r\n\t\t\t\tshowSnackbar('Ошибка! Мы скоро это исправим!', 800, 'red');\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\torderForm.addEventListener('focusin', (e) => {\r\n\t\tfocusIn(e)\r\n\t});\r\n\r\n\tcontactForm.addEventListener('submit', async (e) => {\r\n\t\te.preventDefault();\r\n\t\tlet data = {};\r\n\t\tinvalid = false;\r\n\t\tcontactForm.querySelectorAll('[data-validation]').forEach((el) => {\r\n\t\t\tvalidate(el);\r\n\t\t});\r\n\t\tif (!invalid) {\r\n\t\t\tcontactForm.querySelectorAll('[data-validation]').forEach((el) => {\r\n\t\t\t\tdata[el.name] = el.value;\r\n\t\t\t});\r\n\t\t\tif (await fetchJSON(\"https://jsonplaceholder.typicode.com/posts\", data)) {\r\n\t\t\t\tcontactForm.reset();\r\n\t\t\t\tshowSnackbar('Спасибо! Мы скоро с Вами свяжемся!', 800, '#38c428');\r\n\t\t\t} else {\r\n\t\t\t\tshowSnackbar('Ошибка! Мы скоро это исправим!', 800, 'red');\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\tcontactForm.addEventListener('focusin', (e) => {\r\n\t\tfocusIn(e)\r\n\t});\r\n\r\n\tcalcForm.addEventListener('submit', async (e) => {\r\n\t\te.preventDefault();\r\n\t\tlet data = {};\r\n\t\tinvalid = false;\r\n\t\tcalcForm.querySelectorAll('[data-validation]').forEach((el) => {\r\n\t\t\tvalidate(el);\r\n\t\t});\r\n\r\n\t\tif (!invalid) {\r\n\t\t\tcalcForm.querySelectorAll('[data-validation]').forEach((el) => {\r\n\t\t\t\tdata[el.name] = el.value;\r\n\t\t\t});\r\n\t\t\tdata.animal = calcForm.querySelector('input[name=\"radio\"]:checked').value;\r\n\t\t\tif (calcForm.querySelector('textarea').value.trim()) {\r\n\t\t\t\tdata.message = calcForm.querySelector('textarea').value;\r\n\t\t\t}\r\n\t\t\tif (await fetchJSON(\"https://jsonplaceholder.typicode.com/posts\", data)) {\r\n\t\t\t\tmodalClose(calcModal);\r\n\t\t\t\tcalcForm.reset();\r\n\t\t\t\tshowSnackbar('Спасибо! Мы скоро с Вами свяжемся!', 800, '#38c428');\r\n\t\t\t} else {\r\n\t\t\t\tshowSnackbar('Ошибка! Мы скоро это исправим!', 800, 'red');\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\tcalcForm.addEventListener('focusin', (e) => {\r\n\t\tfocusIn(e)\r\n\t});\r\n\r\n\tstepper.callBack(() => {\r\n\t\tcalcPrice();\r\n\t})\r\n\r\n\twindow.addEventListener('resize', () => {\r\n\t\tresizeDebounce.init();\r\n\t});\r\n\r\n\twindow.addEventListener('scroll', function () {\r\n\t\tscrollDebounce.init();\r\n\t});\r\n})\r\n\r\n"]}