{"version":3,"sources":["main.js"],"names":["document","addEventListener","Debounce","[object Object]","time","functions","this","timeOut","clearTimeout","setTimeout","MobileSwiper","selector","swiperObj","breakpoint","querySelector","selectorClassName","initSlider","window","innerWidth","dataset","mobile","Swiper","classList","contains","destroy","create","Accordion","params","accordion","trigger","body","animated","animSettings","duration","easing","toggle","add","setAttribute","bodyHeight","clientHeight","style","height","animate","opacity","remove","close","open","isMobileDevice","test","navigator","userAgent","isiPhone","documentElement","match","isiPad","isiPod","media","matchMedia","header","burgerBtn","querySelectorAll","burgerList","burger","btn","list","opened","isIphone","btnDisabled","disableBtn","disableScroll","enableScroll","disabled","heroLink","classificationSwiper","containerModifierClass","wrapperClass","slideClass","slidesPerView","grabCursor","pagination","el","clickable","a11y","paginationBulletMessage","watchSlidesVisibility","dietSwiper","spaceBetween","resizeDebounce","init","console","log","scrollDebounce","pos","pageYOffset","innerHeight","top","fixHeader","scrollToTarget","id","target","bodyRect","getBoundingClientRect","offset","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","Math","easeInOutQuad","t","b","c","d","to","start","scrollTop","parentNode","change","currentTime","animateScroll","val","amount","scrollToIos","offsetTop","matches","scrollTo","behavior","forEach","pagePosition","scrollY","scrollBehavior","position","parseInt","scroll","left","removeAttribute","animItems","elementInViewport","element","offsetBottom","delay","bounds","transitionDelay","hasAttribute","length","modalButtons","lockPadding","modalCloseButtons","currentCloseBtn","bodyWasNotLock","previousActiveElement","unlock","isMultipleClick","error","index","modalCurrentButton","e","modalName","path","curentModal","getElementById","modalOpen","focus","preventDefault","modalClose","closest","activeElement","modalActive","lockPaddingValue","offsetWidth","paddingRight","bodyLock","doUnlock","which","Element","prototype","css","node","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","hash"],"mappings":"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","file":"main.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n\t// Includes\r\n\t//? // Debounce\r\nclass Debounce {\r\n\tconstructor(time = 100, functions = () => { }) {\r\n\t\tthis.time = time;\r\n\t\tthis.functions = functions;\r\n\t\tthis.timeOut = null;\r\n\t}\r\n\r\n\tinit() {\r\n\t\tclearTimeout(this.timeOut);\r\n\t\tthis.timeOut = setTimeout(() => {\r\n\t\t\tthis.functions();\r\n\t\t}, this.time);\r\n\t}\r\n}\r\n;\r\n\t//? // Burger\r\n\r\n/* Бургер-меню\r\n\t1. Добавить модификаторы для бургера и меню.\r\n\t2. Изменить aria-expended.\r\n\t3. Запретить скролл.\r\n\t4. Выключать кнопку открытия меню до завершения анимации.\r\n*/\r\n\r\nclass Burger {\r\n\tconstructor(btn, list) {\r\n\t\tthis.btn = btn;\r\n\t\tthis.list = list;\r\n\t\tthis.opened = false;\r\n\t\tthis.isIphone = isiPhone || isiPad || isiPod;\r\n\t\tthis.btnDisabled = false;\r\n\t}\r\n\r\n\topen() {\r\n\t\tthis.disableBtn();\r\n\t\tthis.btn.classList.add('burger--active');\r\n\t\tthis.btn.setAttribute('aria-expanded', true);\r\n\t\tthis.list.classList.add('header__nav--active');\r\n\t\tthis.list.setAttribute('aria-hidden', false);\r\n\t\tif (this.isIphone) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tdisableScroll();\r\n\t\t\t}, 300);\r\n\t\t} else {\r\n\t\t\tbody.classList.add('lock')\r\n\t\t}\r\n\t}\r\n\r\n\tclose() {\r\n\t\tthis.disableBtn();\r\n\t\tif (this.isIphone) {\r\n\t\t\tenableScroll();\r\n\t\t} else {\r\n\t\t\tbody.classList.remove('lock')\r\n\t\t}\r\n\t\tthis.btn.classList.remove('burger--active');\r\n\t\tthis.btn.setAttribute('aria-expanded', false);\r\n\t\tthis.list.classList.remove('header__nav--active');\r\n\t\tthis.list.setAttribute('aria-hidden', true);\r\n\t}\r\n\r\n\ttoggle() {\r\n\t\tif (this.btn.classList.contains('burger--active')) {\r\n\t\t\tthis.close();\r\n\t\t} else {\r\n\t\t\tthis.open();\r\n\t\t}\r\n\t}\r\n\r\n\tdisableBtn() {\r\n\t\tthis.btn.disabled = true;\r\n\t\tthis.list.addEventListener('transitionend', () => {\r\n\t\t\tthis.btn.disabled = false;\r\n\t\t})\r\n\t}\r\n};\r\n\t//? // Swiper\r\nclass MobileSwiper {\r\n\tconstructor(selector, swiperObj, breakpoint) {\r\n\t\tthis.selector = document.querySelector(`.${selector}`);\r\n\t\tthis.selectorClassName = selector;\r\n\t\tthis.breakpoint = breakpoint;\r\n\t\tthis.swiperObj = swiperObj;\r\n\t\tthis.initSlider = null;\r\n\t}\r\n\tcreate() {\r\n\t\tif (window.innerWidth <= this.breakpoint && this.selector.dataset.mobile == 'false') {\r\n\t\t\tthis.initSlider = new Swiper(this.selector, this.swiperObj);\r\n\t\t\tthis.selector.dataset.mobile = 'true';\r\n\t\t}\r\n\t}\r\n\tdestroy() {\r\n\t\tif (window.innerWidth > this.breakpoint) {\r\n\t\t\tthis.selector.dataset.mobile = 'false';\r\n\t\t\tif (this.selector.classList.contains(`${this.selectorClassName}initialized`)) {\r\n\t\t\t\tthis.initSlider.destroy();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tinit() {\r\n\t\tthis.selector.dataset.mobile = 'false';\r\n\t\tthis.create();\r\n\t\tthis.destroy();\r\n\t}\r\n}\r\n;\r\n\t//? // Accordion\r\nclass Accordion {\r\n\tconstructor(params) {\r\n\t\tthis.accordion = params.selector;\r\n\t\tthis.trigger = this.accordion.querySelector('.accordion__trigger');\r\n\t\tthis.body = this.accordion.querySelector('.accordion__body');\r\n\t\tthis.animated = false;\r\n\r\n\t\tif (params.animSettings) {\r\n\t\t\tthis.animSettings = params.animSettings;\r\n\t\t} else {\r\n\t\t\tthis.animSettings = { duration: 500, easing: 'ease' };\r\n\t\t}\r\n\r\n\t\tthis.trigger.addEventListener('click', () => this.toggle());\r\n\t}\r\n\r\n\topen() {\r\n\t\tthis.trigger.classList.add('accordion__trigger--active');\r\n\t\tthis.body.classList.add('accordion__body--show');\r\n\t\tthis.trigger.setAttribute('aria-expanded', true);\r\n\t\tthis.body.setAttribute('aria-hidden', false);\r\n\r\n\t\tlet bodyHeight = this.body.clientHeight;\r\n\t\tthis.body.style.height = 0;\r\n\t\tthis.animated = true;\r\n\r\n\t\tlet anim = this.body.animate([\r\n\t\t\t{ opacity: '1', height: bodyHeight + 'px' }\r\n\t\t],\r\n\t\t\tthis.animSettings);\r\n\r\n\t\tanim.addEventListener('finish', () => {\r\n\t\t\tthis.body.style = null;\r\n\t\t\tthis.animated = false;\r\n\t\t});\r\n\t}\r\n\r\n\tclose() {\r\n\t\tthis.trigger.classList.remove('accordion__trigger--active');\r\n\t\tthis.trigger.setAttribute('aria-expanded', false);\r\n\t\tthis.body.setAttribute('aria-hidden', true);\r\n\r\n\t\tthis.body.style.height = this.body.clientHeight + 'px';\r\n\t\tthis.animated = true;\r\n\r\n\t\tlet anim = this.body.animate([\r\n\t\t\t{ opacity: '0', height: 0 }\r\n\t\t],\r\n\t\t\tthis.animSettings);\r\n\r\n\t\tanim.addEventListener('finish', () => {\r\n\t\t\tthis.body.style = null;\r\n\t\t\tthis.body.classList.remove('accordion__body--show');\r\n\t\t\tthis.animated = false;\r\n\t\t});\r\n\t}\r\n\r\n\ttoggle() {\r\n\t\tif (!this.animated) {\r\n\t\t\tthis.body.classList.contains('accordion__body--show') ? this.close() : this.open();\r\n\t\t}\r\n\t}\r\n};\r\n\t//? // Variables\r\nconst isMobileDevice = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\nconst isSmoothScrollSupported = 'scrollBehavior' in document.documentElement.style;\r\nconst isiPhone = (navigator.userAgent.match(/iPhone/i) != null);\r\nconst isiPad = (navigator.userAgent.match(/iPad/i) != null);\r\nconst isiPod = (navigator.userAgent.match(/iPod/i) != null);\r\nconst media = window.matchMedia(\"(max-width: 992px)\");\r\n\r\nconst body = document.querySelector('.body');\r\nconst header = document.querySelector('.header');\r\nconst headerLinks = header.querySelectorAll('.header__link');\r\nconst burgerBtn = header.querySelector('.burger');\r\nconst burgerList = header.querySelector('.header__nav');\r\nconst burger = new Burger(burgerBtn, burgerList);\r\nconst heroLink = document.querySelector('.hero__link');\r\n\r\nconst classificationSwiperObj = {\r\n\tcontainerModifierClass: \"classification-swiper\",\r\n\twrapperClass: \"classification-swiper__wrapper\",\r\n\tslideClass: \"classification-swiper__slide\",\r\n\tslidesPerView: 1,\r\n\tgrabCursor: true,\r\n\tpagination: {\r\n\t\tel: \".classification-swiper__pagination\",\r\n\t\tclickable: true\r\n\t},\r\n\ta11y: {\r\n\t\tpaginationBulletMessage: 'Перейти к слайду номер {{index}}'\r\n\t},\r\n\twatchSlidesVisibility: true\r\n};\r\nconst classificationSwiper = new MobileSwiper('classification-swiper', classificationSwiperObj, 767);\r\n\r\nconst dietSwiperObj = {\r\n\tcontainerModifierClass: \"diet-swiper\",\r\n\twrapperClass: \"diet-swiper__wrapper\",\r\n\tslideClass: \"diet-swiper__slide\",\r\n\tslidesPerView: 1.25,\r\n\tspaceBetween: 25,\r\n\tgrabCursor: true,\r\n\tpagination: {\r\n\t\tel: \".diet-swiper__pagination\",\r\n\t\tclickable: true\r\n\t},\r\n\ta11y: {\r\n\t\tpaginationBulletMessage: 'Перейти к слайду номер {{index}}'\r\n\t},\r\n\twatchSlidesVisibility: true\r\n};\r\nconst dietSwiper = new MobileSwiper('diet-swiper', dietSwiperObj, 767);\r\n\r\nconst resizeFunc = () => {\r\n\tclassificationSwiper.init();\r\n\tdietSwiper.init();\r\n\tconsole.log('ResizeDebounce');\r\n}\r\nconst resizeDebounce = new Debounce(300, resizeFunc);\r\n\r\nconst scrollFunc = () => {\r\n\tfixHeader();\r\n\tconsole.log('ScrollDebounce');\r\n}\r\nconst scrollDebounce = new Debounce(100, scrollFunc);\r\n\r\nconst accordions = document.querySelectorAll('.accordion__item');\r\n\r\naccordions.forEach(el => new Accordion({\r\n\tselector: el\r\n}));;\r\n\t// // Fixed Header\r\nfunction fixHeader() {\r\n\tlet pos = window.pageYOffset;\r\n\tif (!header.classList.contains('header--active') && pos > window.innerHeight) {\r\n\t\theader.classList.add('header--active');\r\n\t\tburgerBtn.classList.add('burger--scroll');\r\n\t\tif ('animate' in header) {\r\n\t\t\theader.animate([\r\n\t\t\t\t{ top: '-100px' },\r\n\t\t\t\t{ top: '0' }\r\n\t\t\t], {\r\n\t\t\t\tduration: 200,\r\n\t\t\t\teasing: 'ease-out'\r\n\t\t\t});\r\n\t\t}\r\n\t} else if (header.classList.contains('header--active') && window.innerHeight > pos && !burgerBtn.classList.contains('burger--active')) {\r\n\t\tif ('animate' in header) {\r\n\t\t\tlet anim = header.animate([\r\n\t\t\t\t{ top: '0' },\r\n\t\t\t\t{ top: '-100px' }\r\n\t\t\t], {\r\n\t\t\t\tduration: 200,\r\n\t\t\t\teasing: 'ease-out'\r\n\t\t\t});\r\n\r\n\t\t\tanim.addEventListener('finish', () => {\r\n\t\t\t\theader.classList.remove('header--active');\r\n\t\t\t\tburgerBtn.classList.remove('burger--scroll');\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Scroll To Target\r\nfunction scrollToTarget(id) {\r\n\tconst target = document.querySelector(id);\r\n\tif (isiPad || isiPhone || isiPod && target !== null) {\r\n\t\tconst bodyRect = document.body.getBoundingClientRect();\r\n\t\tconst elemRect = target.getBoundingClientRect();\r\n\t\tconst offset = elemRect.top - bodyRect.top;\r\n\r\n\t\tconst requestAnimFrame = (function () {\r\n\t\t\treturn window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) {\r\n\t\t\t\twindow.setTimeout(callback, 1000 / 60);\r\n\t\t\t};\r\n\t\t})();\r\n\t\tMath.easeInOutQuad = function (t, b, c, d) {\r\n\t\t\tt /= d / 2;\r\n\t\t\tif (t < 1) {\r\n\t\t\t\treturn c / 2 * t * t + b\r\n\t\t\t}\r\n\t\t\tt--;\r\n\t\t\treturn -c / 2 * (t * (t - 2) - 1) + b;\r\n\t\t};\r\n\t\tfunction scrollToIos(to, callback, duration) {\r\n\t\t\tfunction move(amount) {\r\n\t\t\t\tdocument.documentElement.scrollTop = amount;\r\n\t\t\t\tdocument.body.parentNode.scrollTop = amount;\r\n\t\t\t\tdocument.body.scrollTop = amount;\r\n\t\t\t}\r\n\r\n\t\t\tfunction position() {\r\n\t\t\t\treturn document.documentElement.scrollTop || document.body.parentNode.scrollTop || document.body.scrollTop;\r\n\t\t\t}\r\n\t\t\tlet start = position(),\r\n\t\t\t\tchange = to - start,\r\n\t\t\t\tcurrentTime = 0,\r\n\t\t\t\tincrement = 20;\r\n\t\t\tduration = (typeof (duration) === 'undefined') ? 500 : duration;\r\n\r\n\t\t\tlet animateScroll = function () {\r\n\t\t\t\tcurrentTime += increment;\r\n\t\t\t\tlet val = Math.easeInOutQuad(currentTime, start, change, duration);\r\n\t\t\t\tmove(val);\r\n\t\t\t\tif (currentTime < duration) {\r\n\t\t\t\t\trequestAnimFrame(animateScroll);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (callback && typeof (callback) === 'function') {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tanimateScroll();\r\n\t\t}\r\n\t\tscrollToIos(offset - 15, null, 500);\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (target !== null) {\r\n\t\tlet pos = target.offsetTop - (media.matches ? 20 : -1);\r\n\t\twindow.scrollTo({\r\n\t\t\ttop: pos,\r\n\t\t\tbehavior: 'smooth'\r\n\t\t});\r\n\t}\r\n}\r\n\r\n;\r\n\t// // scrollLockIOS\r\n\r\n// Выключение скролла\r\nlet disableScroll = () => {\r\n\tlet pagePosition = window.scrollY;\r\n\tdocument.querySelector('html').style.scrollBehavior = 'auto';\r\n\tdocument.body.classList.add('ios-lock');\r\n\tdocument.body.dataset.position = pagePosition;\r\n\tdocument.body.style.top = -pagePosition + 'px';\r\n}\r\n\r\n// Включение скролла\r\nlet enableScroll = () => {\r\n\tlet pagePosition = parseInt(document.body.dataset.position, 10);\r\n\tdocument.body.style.top = 'auto';\r\n\tdocument.body.classList.remove('ios-lock');\r\n\twindow.scroll({ top: pagePosition, left: 0 });\r\n\tdocument.querySelector('html').removeAttribute('style');\r\n\tdocument.body.removeAttribute('data-position');\r\n};\r\n\t// // Animate On Scroll\r\n// class=\"animate-item\" data-animation='from-left'  data-delay=\"0.5\" data-animation-once\r\nconst animItems = document.querySelectorAll(\".animate-item\");\r\nif (!isMobileDevice) {\r\n\tconst elementInViewport = (element, offsetTop, offsetBottom, delay = 0) => {\r\n\t\tlet bounds = element.getBoundingClientRect();\r\n\t\tif (element.dataset.delay) delay = element.dataset.delay;\r\n\r\n\t\tif ((bounds.top + bounds.height - bounds.height * offsetBottom > 0) && (window.innerHeight - bounds.top - bounds.height * offsetTop > 0)) {\r\n\t\t\telement.classList.add(\"animated\");\r\n\t\t\telement.style.transitionDelay = `${delay}s`;\r\n\t\t} else if (!element.hasAttribute(\"data-animation-once\")) {\r\n\t\t\telement.classList.remove(\"animated\");\r\n\t\t}\r\n\t};\r\n\tif (animItems.length != 0) {\r\n\t\tanimItems.forEach(el => {\r\n\t\t\telementInViewport(el, .5, .5);\r\n\t\t})\r\n\t\tdocument.addEventListener('scroll', () => {\r\n\t\t\tanimItems.forEach(el => {\r\n\t\t\t\telementInViewport(el, .5, .5);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n} else {\r\n\tanimItems.forEach((el) => {\r\n\t\tel.classList.add('animated')\r\n\t});\r\n}\r\n// -- //\r\n;\r\n\t// // MODAL\r\n\r\n// vars\r\nconst modalButtons = document.querySelectorAll('.modal-btn');\r\nconst lockPadding = document.querySelectorAll('.fixed-padding');\r\nconst modalCloseButtons = document.querySelectorAll('.close-modal');\r\nconst timeout = 800;\r\nlet currentCloseBtn;\r\nlet unlock = true;\r\nlet isMultipleClick = false;\r\nlet bodyWasNotLock;\r\n\r\n// Проверки\r\nif (typeof (disableScroll) !== 'function' && typeof (enableScroll) !== 'function') {\r\n\tconsole.error(`Тип данных переменных \"disableScroll\" и \"enableScroll\": \"${typeof (disableScroll)} и ${typeof (enableScroll)}\"! Для IOS НЕ будет выполнятся скрипт scrollLockIOS`);\r\n}\r\n// -- //\r\nif (modalButtons.length > 0) {\r\n\tfor (let index = 0; index < modalButtons.length; index++) {\r\n\t\tconst modalCurrentButton = modalButtons[index];\r\n\t\tmodalCurrentButton.addEventListener(\"click\", function (e) {\r\n\t\t\tconst modalName = modalCurrentButton.dataset.path;\r\n\t\t\tconst curentModal = document.getElementById(modalName);\r\n\t\t\tif (curentModal != null) {\r\n\t\t\t\tmodalOpen(curentModal);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tmodalCloseButtons.forEach((el) => {\r\n\t\t\t\t\t\tel.focus()\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 100)\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\tconsole.error(`Модальное окно не существует!\\n modalName: ${modalName}, currentModal: ${curentModal}`);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nif (modalCloseButtons.length > 0) {\r\n\tfor (let index = 0; index < modalCloseButtons.length; index++) {\r\n\t\tconst el = modalCloseButtons[index];\r\n\t\tcurrentCloseBtn = el;\r\n\t\tel.addEventListener('click', function (e) {\r\n\t\t\tmodalClose(el.closest('.modal'));\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\nlet previousActiveElement;\r\nfunction modalOpen(curentModal) {\r\n\tif (curentModal && unlock) {\r\n\t\tpreviousActiveElement = document.activeElement;\r\n\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\tif (modalActive) {\r\n\t\t\tmodalClose(modalActive, false);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbodyLock();\r\n\t\t}\r\n\t\tcurentModal.classList.add('open');\r\n\r\n\t\tcurentModal.addEventListener(\"mousedown\", function (e) {\r\n\t\t\tif (isMultipleClick === false) {\r\n\t\t\t\tif (!e.target.closest('.modal__content')) {\r\n\t\t\t\t\tmodalClose(e.target.closest('.modal'));\r\n\t\t\t\t}\r\n\t\t\t\tisMultipleClick = true;\r\n\t\t\t} else {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tisMultipleClick = false;\r\n\t\t\t\t}, timeout);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\nfunction modalClose(modalActive, doUnlock = true) {\r\n\tif (unlock) {\r\n\t\tmodalActive.classList.remove('open');\r\n\t\tif (doUnlock) {\r\n\t\t\tbodyUnlock();\r\n\t\t}\r\n\t}\r\n\tsetTimeout(function () {\r\n\t\tpreviousActiveElement.focus();\r\n\t}, timeout);\r\n\r\n}\r\n\r\nfunction bodyLock() {\r\n\tconst lockPaddingValue = window.innerWidth - body.offsetWidth + 'px';\r\n\tif (lockPadding.length > 0) {\r\n\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\tconst el = lockPadding[index];\r\n\t\t\tel.style.paddingRight = lockPaddingValue;\r\n\t\t}\r\n\t}\r\n\tbody.style.paddingRight = lockPaddingValue;\r\n\tif (!body.classList.contains('lock')) {\r\n\t\tbodyWasNotLock = true;\r\n\t\tif (isiPhone || isiPad || isiPod) {\r\n\t\t\tdisableScroll();\r\n\t\t} else {\r\n\t\t\tbody.classList.add('lock');\r\n\t\t}\r\n\t} else {\r\n\t\tbodyWasNotLock = false;\r\n\t}\r\n\tunlock = false;\r\n\tsetTimeout(function () {\r\n\t\tunlock = true;\r\n\t}, timeout);\r\n}\r\n\r\nfunction bodyUnlock() {\r\n\tsetTimeout(function () {\r\n\t\tif (lockPadding.length > 0) {\r\n\t\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\t\tconst el = lockPadding[index];\r\n\t\t\t\tel.style.paddingRight = '0px';\r\n\t\t\t}\r\n\t\t}\r\n\t\tbody.style.paddingRight = '0px';\r\n\t\tif (bodyWasNotLock == true) {\r\n\t\t\tif (isiPhone || isiPad || isiPod) {\r\n\t\t\t\tenableScroll();\r\n\t\t\t} else {\r\n\t\t\t\tbody.classList.remove('lock');\r\n\t\t\t}\r\n\t\t}\r\n\t}, timeout);\r\n}\r\n\r\ndocument.addEventListener('keydown', function (e) {\r\n\tif (document.querySelector('.modal.open')) {\r\n\t\tif (e.which === 27) {\r\n\t\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\t\tmodalClose(modalActive);\r\n\t\t}\r\n\t}\r\n});\r\n(function () {\r\n\tif (!Element.prototype.closest) {\r\n\t\tElement.prototype.closest = function (css) {\r\n\t\t\tvar node = this;\r\n\t\t\twhile (node) {\r\n\t\t\t\tif (node.matches(css)) return node;\r\n\t\t\t\telse node = node.parentElement;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t}\r\n})();\r\n(function () {\r\n\tif (!Element.prototype.matches) {\r\n\t\tElement.prototype.matches = Element.prototype.matchesSelector ||\r\n\t\t\tElement.prototype.webkitMatchesSelector ||\r\n\t\t\tElement.prototype.mozMatchesSelector ||\r\n\t\t\tElement.prototype.msMatchesSelector;\r\n\t}\r\n})();;\r\n\t// -- //\r\n\r\n\theader.addEventListener('click', (e) => {\r\n\t\tswitch (e.target) {\r\n\t\t\tcase e.target.closest('.burger'):\r\n\t\t\t\tburger.toggle();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase e.target.closest('.header__link'):\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (media.matches) burger.close();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tscrollToTarget(e.target.hash);\r\n\t\t\t\t}, 200);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t})\r\n\theroLink.addEventListener('click', () => {\r\n\t\tscrollToTarget(heroLink.hash);\r\n\t})\r\n\r\n\tclassificationSwiper.init();\r\n\tdietSwiper.init();\r\n\r\n\twindow.addEventListener('resize', () => {\r\n\t\tresizeDebounce.init();\r\n\t});\r\n\r\n\twindow.addEventListener('scroll', function () {\r\n\t\tscrollDebounce.init();\r\n\t});\r\n})\r\n\r\n"]}