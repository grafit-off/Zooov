{"version":3,"sources":["main.js"],"names":["document","addEventListener","Debounce","[object Object]","time","functions","this","timeOut","clearTimeout","setTimeout","MobileSwiper","selector","swiperObj","breakpoint","querySelector","selectorClassName","initSlider","window","innerWidth","dataset","mobile","Swiper","classList","contains","destroy","create","isMobileDevice","test","navigator","userAgent","isiPhone","documentElement","style","match","isiPad","isiPod","media","matchMedia","body","header","burgerBtn","querySelectorAll","burgerList","burger","btn","list","opened","isIphone","btnDisabled","disableBtn","add","setAttribute","disableScroll","enableScroll","remove","close","open","disabled","heroLink","classificationSwiper","containerModifierClass","wrapperClass","slideClass","slidesPerView","grabCursor","pagination","el","clickable","a11y","paginationBulletMessage","watchSlidesVisibility","dietSwiper","spaceBetween","resizeDebounce","init","console","log","scrollDebounce","pos","pageYOffset","innerHeight","animate","top","duration","easing","fixHeader","scrollToTarget","id","target","bodyRect","getBoundingClientRect","offset","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","Math","easeInOutQuad","t","b","c","d","to","start","scrollTop","parentNode","change","currentTime","animateScroll","val","amount","scrollToIos","offsetTop","matches","scrollTo","behavior","pagePosition","scrollY","scrollBehavior","position","parseInt","scroll","left","removeAttribute","animItems","forEach","elementInViewport","element","offsetBottom","delay","bounds","height","transitionDelay","hasAttribute","length","modalButtons","lockPadding","modalCloseButtons","currentCloseBtn","bodyWasNotLock","previousActiveElement","unlock","isMultipleClick","error","index","modalCurrentButton","e","modalName","path","curentModal","getElementById","modalOpen","focus","preventDefault","modalClose","closest","activeElement","modalActive","lockPaddingValue","offsetWidth","paddingRight","bodyLock","doUnlock","which","Element","prototype","css","node","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","toggle","hash"],"mappings":"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","file":"main.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n\t// Includes\n\t//? // Debounce\r\nclass Debounce {\r\n\tconstructor(time = 100, functions = () => { }) {\r\n\t\tthis.time = time;\r\n\t\tthis.functions = functions;\r\n\t\tthis.timeOut = null;\r\n\t}\r\n\r\n\tinit() {\r\n\t\tclearTimeout(this.timeOut);\r\n\t\tthis.timeOut = setTimeout(() => {\r\n\t\t\tthis.functions();\r\n\t\t}, this.time);\r\n\t}\r\n}\r\n;\n\t//? // Burger\r\n\r\n/* Бургер-меню\r\n\t1. Добавить модификаторы для бургера и меню.\r\n\t2. Изменить aria-expended.\r\n\t3. Запретить скролл.\r\n\t4. Выключать кнопку открытия меню до завершения анимации.\r\n*/\r\n\r\nclass Burger {\r\n\tconstructor(btn, list) {\r\n\t\tthis.btn = btn;\r\n\t\tthis.list = list;\r\n\t\tthis.opened = false;\r\n\t\tthis.isIphone = isiPhone || isiPad || isiPod;\r\n\t\tthis.btnDisabled = false;\r\n\t}\r\n\r\n\topen() {\r\n\t\tthis.disableBtn();\r\n\t\tthis.btn.classList.add('burger--active');\r\n\t\tthis.btn.setAttribute('aria-expanded', true);\r\n\t\tthis.list.classList.add('header__nav--active');\r\n\t\tthis.list.setAttribute('aria-hidden', false);\r\n\t\tif (this.isIphone) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tdisableScroll();\r\n\t\t\t}, 300);\r\n\t\t} else {\r\n\t\t\tbody.classList.add('lock')\r\n\t\t}\r\n\t}\r\n\r\n\tclose() {\r\n\t\tthis.disableBtn();\r\n\t\tif (this.isIphone) {\r\n\t\t\tenableScroll();\r\n\t\t} else {\r\n\t\t\tbody.classList.remove('lock')\r\n\t\t}\r\n\t\tthis.btn.classList.remove('burger--active');\r\n\t\tthis.btn.setAttribute('aria-expanded', false);\r\n\t\tthis.list.classList.remove('header__nav--active');\r\n\t\tthis.list.setAttribute('aria-hidden', true);\r\n\t}\r\n\r\n\ttoggle() {\r\n\t\tif (this.btn.classList.contains('burger--active')) {\r\n\t\t\tthis.close();\r\n\t\t} else {\r\n\t\t\tthis.open();\r\n\t\t}\r\n\t}\r\n\r\n\tdisableBtn() {\r\n\t\tthis.btn.disabled = true;\r\n\t\tthis.list.addEventListener('transitionend', () => {\r\n\t\t\tthis.btn.disabled = false;\r\n\t\t})\r\n\t}\r\n};\n\t//? // Swiper\r\nclass MobileSwiper {\r\n\tconstructor(selector, swiperObj, breakpoint) {\r\n\t\tthis.selector = document.querySelector(`.${selector}`);\r\n\t\tthis.selectorClassName = selector;\r\n\t\tthis.breakpoint = breakpoint;\r\n\t\tthis.swiperObj = swiperObj;\r\n\t\tthis.initSlider = null;\r\n\t}\r\n\tcreate() {\r\n\t\tif (window.innerWidth <= this.breakpoint && this.selector.dataset.mobile == 'false') {\r\n\t\t\tthis.initSlider = new Swiper(this.selector, this.swiperObj);\r\n\t\t\tthis.selector.dataset.mobile = 'true';\r\n\t\t}\r\n\t}\r\n\tdestroy() {\r\n\t\tif (window.innerWidth > this.breakpoint) {\r\n\t\t\tthis.selector.dataset.mobile = 'false';\r\n\t\t\tif (this.selector.classList.contains(`${this.selectorClassName}initialized`)) {\r\n\t\t\t\tthis.initSlider.destroy();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tinit() {\r\n\t\tthis.selector.dataset.mobile = 'false';\r\n\t\tthis.create();\r\n\t\tthis.destroy();\r\n\t}\r\n}\r\n;\n\t// // Variables\r\nconst isMobileDevice = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\nconst isSmoothScrollSupported = 'scrollBehavior' in document.documentElement.style;\r\nconst isiPhone = (navigator.userAgent.match(/iPhone/i) != null);\r\nconst isiPad = (navigator.userAgent.match(/iPad/i) != null);\r\nconst isiPod = (navigator.userAgent.match(/iPod/i) != null);\r\nconst media = window.matchMedia(\"(max-width: 992px)\");\r\n\r\nconst body = document.querySelector('.body');\r\nconst header = document.querySelector('.header');\r\nconst headerLinks = header.querySelectorAll('.header__link');\r\nconst burgerBtn = header.querySelector('.burger');\r\nconst burgerList = header.querySelector('.header__nav');\r\nconst burger = new Burger(burgerBtn, burgerList);\r\nconst heroLink = document.querySelector('.hero__link');\r\n\r\nconst classificationSwiperObj = {\r\n\tcontainerModifierClass: \"classification-swiper\",\r\n\twrapperClass: \"classification-swiper__wrapper\",\r\n\tslideClass: \"classification-swiper__slide\",\r\n\tslidesPerView: 1,\r\n\tgrabCursor: true,\r\n\tpagination: {\r\n\t\tel: \".classification-swiper__pagination\",\r\n\t\tclickable: true\r\n\t},\r\n\ta11y: {\r\n\t\tpaginationBulletMessage: 'Перейти к слайду номер {{index}}'\r\n\t},\r\n\twatchSlidesVisibility: true\r\n};\r\nconst classificationSwiper = new MobileSwiper('classification-swiper', classificationSwiperObj, 767);\r\n\r\nconst dietSwiperObj = {\r\n\tcontainerModifierClass: \"diet-swiper\",\r\n\twrapperClass: \"diet-swiper__wrapper\",\r\n\tslideClass: \"diet-swiper__slide\",\r\n\tslidesPerView: 1.25,\r\n\tspaceBetween: 25,\r\n\tgrabCursor: true,\r\n\tpagination: {\r\n\t\tel: \".diet-swiper__pagination\",\r\n\t\tclickable: true\r\n\t},\r\n\ta11y: {\r\n\t\tpaginationBulletMessage: 'Перейти к слайду номер {{index}}'\r\n\t},\r\n\twatchSlidesVisibility: true\r\n};\r\nconst dietSwiper = new MobileSwiper('diet-swiper', dietSwiperObj, 767);\r\n\r\nconst resizeFunc = () => {\r\n\tclassificationSwiper.init();\r\n\tdietSwiper.init();\r\n\tconsole.log('ResizeDebounce');\r\n}\r\nconst resizeDebounce = new Debounce(300, resizeFunc);\r\n\r\nconst scrollFunc = () => {\r\n\tfixHeader();\r\n\tconsole.log('ScrollDebounce');\r\n}\r\nconst scrollDebounce = new Debounce(100, scrollFunc);\r\n\r\n\r\n;\n\t// // Fixed Header\r\nfunction fixHeader() {\r\n\tlet pos = window.pageYOffset;\r\n\tif (!header.classList.contains('header--active') && pos > window.innerHeight) {\r\n\t\theader.classList.add('header--active');\r\n\t\tburgerBtn.classList.add('burger--scroll');\r\n\t\tif ('animate' in header) {\r\n\t\t\theader.animate([\r\n\t\t\t\t{ top: '-100px' },\r\n\t\t\t\t{ top: '0' }\r\n\t\t\t], {\r\n\t\t\t\tduration: 200,\r\n\t\t\t\teasing: 'ease-out'\r\n\t\t\t});\r\n\t\t}\r\n\t} else if (header.classList.contains('header--active') && window.innerHeight > pos && !burgerBtn.classList.contains('burger--active')) {\r\n\t\tif ('animate' in header) {\r\n\t\t\tlet anim = header.animate([\r\n\t\t\t\t{ top: '0' },\r\n\t\t\t\t{ top: '-100px' }\r\n\t\t\t], {\r\n\t\t\t\tduration: 200,\r\n\t\t\t\teasing: 'ease-out'\r\n\t\t\t});\r\n\r\n\t\t\tanim.addEventListener('finish', () => {\r\n\t\t\t\theader.classList.remove('header--active');\r\n\t\t\t\tburgerBtn.classList.remove('burger--scroll');\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Scroll To Target\r\nfunction scrollToTarget(id) {\r\n\tconst target = document.querySelector(id);\r\n\tif (isiPad || isiPhone || isiPod && target !== null) {\r\n\t\tconst bodyRect = document.body.getBoundingClientRect();\r\n\t\tconst elemRect = target.getBoundingClientRect();\r\n\t\tconst offset = elemRect.top - bodyRect.top;\r\n\r\n\t\tconst requestAnimFrame = (function () {\r\n\t\t\treturn window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) {\r\n\t\t\t\twindow.setTimeout(callback, 1000 / 60);\r\n\t\t\t};\r\n\t\t})();\r\n\t\tMath.easeInOutQuad = function (t, b, c, d) {\r\n\t\t\tt /= d / 2;\r\n\t\t\tif (t < 1) {\r\n\t\t\t\treturn c / 2 * t * t + b\r\n\t\t\t}\r\n\t\t\tt--;\r\n\t\t\treturn -c / 2 * (t * (t - 2) - 1) + b;\r\n\t\t};\r\n\t\tfunction scrollToIos(to, callback, duration) {\r\n\t\t\tfunction move(amount) {\r\n\t\t\t\tdocument.documentElement.scrollTop = amount;\r\n\t\t\t\tdocument.body.parentNode.scrollTop = amount;\r\n\t\t\t\tdocument.body.scrollTop = amount;\r\n\t\t\t}\r\n\r\n\t\t\tfunction position() {\r\n\t\t\t\treturn document.documentElement.scrollTop || document.body.parentNode.scrollTop || document.body.scrollTop;\r\n\t\t\t}\r\n\t\t\tlet start = position(),\r\n\t\t\t\tchange = to - start,\r\n\t\t\t\tcurrentTime = 0,\r\n\t\t\t\tincrement = 20;\r\n\t\t\tduration = (typeof (duration) === 'undefined') ? 500 : duration;\r\n\r\n\t\t\tlet animateScroll = function () {\r\n\t\t\t\tcurrentTime += increment;\r\n\t\t\t\tlet val = Math.easeInOutQuad(currentTime, start, change, duration);\r\n\t\t\t\tmove(val);\r\n\t\t\t\tif (currentTime < duration) {\r\n\t\t\t\t\trequestAnimFrame(animateScroll);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (callback && typeof (callback) === 'function') {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tanimateScroll();\r\n\t\t}\r\n\t\tscrollToIos(offset - 15, null, 200);\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (target !== null) {\r\n\t\tlet pos = target.offsetTop - (media.matches ? 20 : -1);\r\n\t\twindow.scrollTo({\r\n\t\t\ttop: pos,\r\n\t\t\tbehavior: 'smooth'\r\n\t\t});\r\n\t}\r\n}\r\n\r\n;\n\t// // scrollLockIOS\r\n\r\n// Выключение скролла\r\nlet disableScroll = () => {\r\n\tlet pagePosition = window.scrollY;\r\n\tdocument.querySelector('html').style.scrollBehavior = 'auto';\r\n\tdocument.body.classList.add('ios-lock');\r\n\tdocument.body.dataset.position = pagePosition;\r\n\tdocument.body.style.top = -pagePosition + 'px';\r\n}\r\n\r\n// Включение скролла\r\nlet enableScroll = () => {\r\n\tlet pagePosition = parseInt(document.body.dataset.position, 10);\r\n\tdocument.body.style.top = 'auto';\r\n\tdocument.body.classList.remove('ios-lock');\r\n\twindow.scroll({ top: pagePosition, left: 0 });\r\n\tdocument.querySelector('html').removeAttribute('style');\r\n\tdocument.body.removeAttribute('data-position');\r\n};\n\t// // Animate On Scroll\r\n// class=\"animate-item\" data-animation='from-left'  data-delay=\"0.5\" data-animation-once\r\nconst animItems = document.querySelectorAll(\".animate-item\");\r\nif (!isMobileDevice) {\r\n\tconst elementInViewport = (element, offsetTop, offsetBottom, delay = 0) => {\r\n\t\tlet bounds = element.getBoundingClientRect();\r\n\t\tif (element.dataset.delay) delay = element.dataset.delay;\r\n\r\n\t\tif ((bounds.top + bounds.height - bounds.height * offsetBottom > 0) && (window.innerHeight - bounds.top - bounds.height * offsetTop > 0)) {\r\n\t\t\telement.classList.add(\"animated\");\r\n\t\t\telement.style.transitionDelay = `${delay}s`;\r\n\t\t} else if (!element.hasAttribute(\"data-animation-once\")) {\r\n\t\t\telement.classList.remove(\"animated\");\r\n\t\t}\r\n\t};\r\n\tif (animItems.length != 0) {\r\n\t\tanimItems.forEach(el => {\r\n\t\t\telementInViewport(el, .5, .5);\r\n\t\t})\r\n\t\tdocument.addEventListener('scroll', () => {\r\n\t\t\tanimItems.forEach(el => {\r\n\t\t\t\telementInViewport(el, .5, .5);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n} else {\r\n\tanimItems.forEach((el) => {\r\n\t\tel.classList.add('animated')\r\n\t});\r\n}\r\n// -- //\r\n;\n\t// // MODAL\r\n\r\n// vars\r\nconst modalButtons = document.querySelectorAll('.modal-btn');\r\nconst lockPadding = document.querySelectorAll('.fixed-padding');\r\nconst modalCloseButtons = document.querySelectorAll('.close-modal');\r\nconst timeout = 800;\r\nlet currentCloseBtn;\r\nlet unlock = true;\r\nlet isMultipleClick = false;\r\nlet bodyWasNotLock;\r\n\r\n// Проверки\r\nif (typeof (disableScroll) !== 'function' && typeof (enableScroll) !== 'function') {\r\n\tconsole.error(`Тип данных переменных \"disableScroll\" и \"enableScroll\": \"${typeof (disableScroll)} и ${typeof (enableScroll)}\"! Для IOS НЕ будет выполнятся скрипт scrollLockIOS`);\r\n}\r\n// -- //\r\nif (modalButtons.length > 0) {\r\n\tfor (let index = 0; index < modalButtons.length; index++) {\r\n\t\tconst modalCurrentButton = modalButtons[index];\r\n\t\tmodalCurrentButton.addEventListener(\"click\", function (e) {\r\n\t\t\tconst modalName = modalCurrentButton.dataset.path;\r\n\t\t\tconst curentModal = document.getElementById(modalName);\r\n\t\t\tif (curentModal != null) {\r\n\t\t\t\tmodalOpen(curentModal);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tmodalCloseButtons.forEach((el) => {\r\n\t\t\t\t\t\tel.focus()\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 100)\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\tconsole.error(`Модальное окно не существует!\\n modalName: ${modalName}, currentModal: ${curentModal}`);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nif (modalCloseButtons.length > 0) {\r\n\tfor (let index = 0; index < modalCloseButtons.length; index++) {\r\n\t\tconst el = modalCloseButtons[index];\r\n\t\tcurrentCloseBtn = el;\r\n\t\tel.addEventListener('click', function (e) {\r\n\t\t\tmodalClose(el.closest('.modal'));\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\nlet previousActiveElement;\r\nfunction modalOpen(curentModal) {\r\n\tif (curentModal && unlock) {\r\n\t\tpreviousActiveElement = document.activeElement;\r\n\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\tif (modalActive) {\r\n\t\t\tmodalClose(modalActive, false);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbodyLock();\r\n\t\t}\r\n\t\tcurentModal.classList.add('open');\r\n\r\n\t\tcurentModal.addEventListener(\"mousedown\", function (e) {\r\n\t\t\tif (isMultipleClick === false) {\r\n\t\t\t\tif (!e.target.closest('.modal__content')) {\r\n\t\t\t\t\tmodalClose(e.target.closest('.modal'));\r\n\t\t\t\t}\r\n\t\t\t\tisMultipleClick = true;\r\n\t\t\t} else {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tisMultipleClick = false;\r\n\t\t\t\t}, timeout);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\nfunction modalClose(modalActive, doUnlock = true) {\r\n\tif (unlock) {\r\n\t\tmodalActive.classList.remove('open');\r\n\t\tif (doUnlock) {\r\n\t\t\tbodyUnlock();\r\n\t\t}\r\n\t}\r\n\tsetTimeout(function () {\r\n\t\tpreviousActiveElement.focus();\r\n\t}, timeout);\r\n\r\n}\r\n\r\nfunction bodyLock() {\r\n\tconst lockPaddingValue = window.innerWidth - body.offsetWidth + 'px';\r\n\tif (lockPadding.length > 0) {\r\n\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\tconst el = lockPadding[index];\r\n\t\t\tel.style.paddingRight = lockPaddingValue;\r\n\t\t}\r\n\t}\r\n\tbody.style.paddingRight = lockPaddingValue;\r\n\tif (!body.classList.contains('lock')) {\r\n\t\tbodyWasNotLock = true;\r\n\t\tif (isiPhone || isiPad || isiPod) {\r\n\t\t\tdisableScroll();\r\n\t\t} else {\r\n\t\t\tbody.classList.add('lock');\r\n\t\t}\r\n\t} else {\r\n\t\tbodyWasNotLock = false;\r\n\t}\r\n\tunlock = false;\r\n\tsetTimeout(function () {\r\n\t\tunlock = true;\r\n\t}, timeout);\r\n}\r\n\r\nfunction bodyUnlock() {\r\n\tsetTimeout(function () {\r\n\t\tif (lockPadding.length > 0) {\r\n\t\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\t\tconst el = lockPadding[index];\r\n\t\t\t\tel.style.paddingRight = '0px';\r\n\t\t\t}\r\n\t\t}\r\n\t\tbody.style.paddingRight = '0px';\r\n\t\tif (bodyWasNotLock == true) {\r\n\t\t\tif (isiPhone || isiPad || isiPod) {\r\n\t\t\t\tenableScroll();\r\n\t\t\t} else {\r\n\t\t\t\tbody.classList.remove('lock');\r\n\t\t\t}\r\n\t\t}\r\n\t}, timeout);\r\n}\r\n\r\ndocument.addEventListener('keydown', function (e) {\r\n\tif (document.querySelector('.modal.open')) {\r\n\t\tif (e.which === 27) {\r\n\t\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\t\tmodalClose(modalActive);\r\n\t\t}\r\n\t}\r\n});\r\n(function () {\r\n\tif (!Element.prototype.closest) {\r\n\t\tElement.prototype.closest = function (css) {\r\n\t\t\tvar node = this;\r\n\t\t\twhile (node) {\r\n\t\t\t\tif (node.matches(css)) return node;\r\n\t\t\t\telse node = node.parentElement;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t}\r\n})();\r\n(function () {\r\n\tif (!Element.prototype.matches) {\r\n\t\tElement.prototype.matches = Element.prototype.matchesSelector ||\r\n\t\t\tElement.prototype.webkitMatchesSelector ||\r\n\t\t\tElement.prototype.mozMatchesSelector ||\r\n\t\t\tElement.prototype.msMatchesSelector;\r\n\t}\r\n})();;\n\t// -- //\n\n\theader.addEventListener('click', (e) => {\n\t\tswitch (e.target) {\n\t\t\tcase e.target.closest('.burger'):\n\t\t\t\tburger.toggle();\n\t\t\t\tbreak;\n\n\t\t\tcase e.target.closest('.header__link'):\n\t\t\t\te.preventDefault();\n\t\t\t\tif (media.matches) burger.close();\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tscrollToTarget(e.target.hash);\n\t\t\t\t}, 200);\n\t\t\t\tbreak;\n\t\t}\n\t})\n\theroLink.addEventListener('click', () => {\n\t\tscrollToTarget(heroLink.hash);\n\t})\n\n\tclassificationSwiper.init();\n\tdietSwiper.init();\n\n\twindow.addEventListener('resize', () => {\n\t\tresizeDebounce.init();\n\t});\n\n\twindow.addEventListener('scroll', function () {\n\t\tscrollDebounce.init();\n\t});\n})\n\n"]}